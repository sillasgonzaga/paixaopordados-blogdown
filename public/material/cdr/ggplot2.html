<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 Visualizações de dados (ggplot2) | Ciência de Dados com R - Introdução</title>
  <meta name="description" content="Aprendendo a programar com R" />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="12 Visualizações de dados (ggplot2) | Ciência de Dados com R - Introdução" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Aprendendo a programar com R" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 Visualizações de dados (ggplot2) | Ciência de Dados com R - Introdução" />
  
  <meta name="twitter:description" content="Aprendendo a programar com R" />
  

<meta name="author" content="Saulo Guerra, Paulo Felipe de Oliveira e Robert McDonnell" />


<meta name="date" content="2019-01-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="estruturas-complexas-de-dados.html"/>
<link rel="next" href="htmlwidgets.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.46.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.46.1/plotly-latest.min.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.2/leaflet.js"></script>
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet" />
<link href="libs/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet" />
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script>
<script src="libs/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-61574597-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-61574597-1');
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ciência de Dados com R - Introdução</a></li>
<img src="hexcdr.png" class="hexcurso" alt="hex">

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a></li>
<li class="chapter" data-level="1" data-path="introducao.html"><a href="introducao.html"><i class="fa fa-check"></i><b>1</b> Introdução</a><ul>
<li class="chapter" data-level="1.1" data-path="introducao.html"><a href="introducao.html#o-que-e-ciencia-de-dados"><i class="fa fa-check"></i><b>1.1</b> O que é Ciência de Dados?</a></li>
<li class="chapter" data-level="1.2" data-path="introducao.html"><a href="introducao.html#workflow-da-ciencia-de-dados"><i class="fa fa-check"></i><b>1.2</b> Workflow da Ciência de Dados</a></li>
<li class="chapter" data-level="1.3" data-path="introducao.html"><a href="introducao.html#linguagens-para-ciencia-de-dados"><i class="fa fa-check"></i><b>1.3</b> Linguagens para Ciência de dados</a></li>
<li class="chapter" data-level="1.4" data-path="introducao.html"><a href="introducao.html#o-que-e-r-e-por-que-devo-aprende-lo"><i class="fa fa-check"></i><b>1.4</b> O que é R e por que devo aprendê-lo?</a></li>
<li class="chapter" data-level="1.5" data-path="introducao.html"><a href="introducao.html#rstudio"><i class="fa fa-check"></i><b>1.5</b> RStudio</a></li>
<li class="chapter" data-level="1.6" data-path="introducao.html"><a href="introducao.html#buscando-ajuda"><i class="fa fa-check"></i><b>1.6</b> Buscando Ajuda</a></li>
<li class="chapter" data-level="1.7" data-path="introducao.html"><a href="introducao.html#exercicios"><i class="fa fa-check"></i><b>1.7</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html"><i class="fa fa-check"></i><b>2</b> Conceitos Básicos</a><ul>
<li class="chapter" data-level="2.1" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#console"><i class="fa fa-check"></i><b>2.1</b> Console</a></li>
<li class="chapter" data-level="2.2" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#scripts"><i class="fa fa-check"></i><b>2.2</b> Scripts</a><ul>
<li class="chapter" data-level="2.2.1" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#salvando-scripts"><i class="fa fa-check"></i><b>2.2.1</b> Salvando Scripts</a></li>
<li class="chapter" data-level="2.2.2" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#comentarios-de-codigo"><i class="fa fa-check"></i><b>2.2.2</b> Comentários de Código</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#objetos-variaveis"><i class="fa fa-check"></i><b>2.3</b> Objetos (Variáveis)</a></li>
<li class="chapter" data-level="2.4" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#funcoes"><i class="fa fa-check"></i><b>2.4</b> Funções</a></li>
<li class="chapter" data-level="2.5" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#pacotes"><i class="fa fa-check"></i><b>2.5</b> Pacotes</a></li>
<li class="chapter" data-level="2.6" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#boas-praticas"><i class="fa fa-check"></i><b>2.6</b> Boas práticas</a></li>
<li class="chapter" data-level="2.7" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#tidyverse"><i class="fa fa-check"></i><b>2.7</b> Tidyverse</a></li>
<li class="chapter" data-level="2.8" data-path="conceitos-basicos.html"><a href="conceitos-basicos.html#exercicios-1"><i class="fa fa-check"></i><b>2.8</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html"><i class="fa fa-check"></i><b>3</b> Lendo os dados</a><ul>
<li class="chapter" data-level="3.1" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#tipos-de-estrutura-dos-dados"><i class="fa fa-check"></i><b>3.1</b> Tipos de Estrutura dos Dados</a><ul>
<li class="chapter" data-level="3.1.1" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#dados-estruturados"><i class="fa fa-check"></i><b>3.1.1</b> Dados Estruturados</a></li>
<li class="chapter" data-level="3.1.2" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#dados-nao-estruturados"><i class="fa fa-check"></i><b>3.1.2</b> Dados Não Estruturados</a></li>
<li class="chapter" data-level="3.1.3" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#dados-semiestruturados"><i class="fa fa-check"></i><b>3.1.3</b> Dados Semiestruturados</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#definindo-o-local-dos-dados"><i class="fa fa-check"></i><b>3.2</b> Definindo o Local dos Dados</a></li>
<li class="chapter" data-level="3.3" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#pacote-para-leitura-dos-dados"><i class="fa fa-check"></i><b>3.3</b> Pacote para leitura dos dados</a></li>
<li class="chapter" data-level="3.4" data-path="lendo-os-dados.html"><a href="lendo-os-dados.html#exercicios-2"><i class="fa fa-check"></i><b>3.4</b> Exercícios:</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html"><i class="fa fa-check"></i><b>4</b> Manipulando os dados</a><ul>
<li class="chapter" data-level="4.1" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#tipos-de-variaveis-e-colunas"><i class="fa fa-check"></i><b>4.1</b> Tipos de Variáveis e Colunas</a><ul>
<li class="chapter" data-level="4.1.1" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#conversoes-de-tipos-de-variaveis"><i class="fa fa-check"></i><b>4.1.1</b> Conversões de tipos de variáveis</a></li>
<li class="chapter" data-level="4.1.2" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#outros-tipos-de-variaveis"><i class="fa fa-check"></i><b>4.1.2</b> Outros tipos de variáveis</a></li>
<li class="chapter" data-level="4.1.3" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#valores-faltantes-e-o-na"><i class="fa fa-check"></i><b>4.1.3</b> Valores faltantes e o ‘NA’</a></li>
<li class="chapter" data-level="4.1.4" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#estruturas-de-controle-de-fluxo"><i class="fa fa-check"></i><b>4.1.4</b> Estruturas de Controle de Fluxo</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#if-e-else"><i class="fa fa-check"></i><b>4.2</b> If e Else</a></li>
<li class="chapter" data-level="4.3" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#loops"><i class="fa fa-check"></i><b>4.3</b> Loops</a><ul>
<li class="chapter" data-level="4.3.1" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#for"><i class="fa fa-check"></i><b>4.3.1</b> For</a></li>
<li class="chapter" data-level="4.3.2" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#while"><i class="fa fa-check"></i><b>4.3.2</b> While</a></li>
<li class="chapter" data-level="4.3.3" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#funcoes-1"><i class="fa fa-check"></i><b>4.3.3</b> Funções</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#manipulacoes-com-r-base"><i class="fa fa-check"></i><b>4.4</b> Manipulações com R base</a><ul>
<li class="chapter" data-level="4.4.1" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#trabalhando-com-colunas-de-um-data.frame"><i class="fa fa-check"></i><b>4.4.1</b> Trabalhando com colunas de um data.frame</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#pacote-dplyr"><i class="fa fa-check"></i><b>4.5</b> Pacote dplyr</a><ul>
<li class="chapter" data-level="4.5.1" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#verbetes-do-dplyr-e-o-operador"><i class="fa fa-check"></i><b>4.5.1</b> Verbetes do dplyr e o operador <code>%&gt;%</code></a></li>
<li class="chapter" data-level="4.5.2" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#select"><i class="fa fa-check"></i><b>4.5.2</b> Select</a></li>
<li class="chapter" data-level="4.5.3" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#filter"><i class="fa fa-check"></i><b>4.5.3</b> Filter</a></li>
<li class="chapter" data-level="4.5.4" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#mutate"><i class="fa fa-check"></i><b>4.5.4</b> Mutate</a></li>
<li class="chapter" data-level="4.5.5" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#group-by-e-summarise"><i class="fa fa-check"></i><b>4.5.5</b> Group By e Summarise</a></li>
<li class="chapter" data-level="4.5.6" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#arrange"><i class="fa fa-check"></i><b>4.5.6</b> Arrange</a></li>
<li class="chapter" data-level="4.5.7" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#o-operador"><i class="fa fa-check"></i><b>4.5.7</b> O operador %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="manipulando-os-dados.html"><a href="manipulando-os-dados.html#exercicios-3"><i class="fa fa-check"></i><b>4.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="limpando-dados.html"><a href="limpando-dados.html"><i class="fa fa-check"></i><b>5</b> Limpando dados</a><ul>
<li class="chapter" data-level="5.1" data-path="limpando-dados.html"><a href="limpando-dados.html#o-formato-ideal-dos-dados"><i class="fa fa-check"></i><b>5.1</b> O formato “ideal” dos dados</a></li>
<li class="chapter" data-level="5.2" data-path="limpando-dados.html"><a href="limpando-dados.html#pacote-tidyr"><i class="fa fa-check"></i><b>5.2</b> Pacote tidyr</a><ul>
<li class="chapter" data-level="5.2.1" data-path="limpando-dados.html"><a href="limpando-dados.html#gather"><i class="fa fa-check"></i><b>5.2.1</b> gather</a></li>
<li class="chapter" data-level="5.2.2" data-path="limpando-dados.html"><a href="limpando-dados.html#spread"><i class="fa fa-check"></i><b>5.2.2</b> spread</a></li>
<li class="chapter" data-level="5.2.3" data-path="limpando-dados.html"><a href="limpando-dados.html#separate"><i class="fa fa-check"></i><b>5.2.3</b> separate</a></li>
<li class="chapter" data-level="5.2.4" data-path="limpando-dados.html"><a href="limpando-dados.html#unite"><i class="fa fa-check"></i><b>5.2.4</b> unite</a></li>
<li class="chapter" data-level="5.2.5" data-path="limpando-dados.html"><a href="limpando-dados.html#separate_rows"><i class="fa fa-check"></i><b>5.2.5</b> separate_rows</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="limpando-dados.html"><a href="limpando-dados.html#exercicios-4"><i class="fa fa-check"></i><b>5.3</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="juntando-dados.html"><a href="juntando-dados.html"><i class="fa fa-check"></i><b>6</b> Juntando dados</a><ul>
<li class="chapter" data-level="6.1" data-path="juntando-dados.html"><a href="juntando-dados.html#uniao-de-dados-union"><i class="fa fa-check"></i><b>6.1</b> União de dados (Union)</a></li>
<li class="chapter" data-level="6.2" data-path="juntando-dados.html"><a href="juntando-dados.html#cruzamento-de-dados-join"><i class="fa fa-check"></i><b>6.2</b> Cruzamento de Dados (Join)</a><ul>
<li class="chapter" data-level="6.2.1" data-path="juntando-dados.html"><a href="juntando-dados.html#inner-join-ou-apenas-join"><i class="fa fa-check"></i><b>6.2.1</b> Inner Join (ou apenas Join)</a></li>
<li class="chapter" data-level="6.2.2" data-path="juntando-dados.html"><a href="juntando-dados.html#left-outer-join"><i class="fa fa-check"></i><b>6.2.2</b> Left Outer Join</a></li>
<li class="chapter" data-level="6.2.3" data-path="juntando-dados.html"><a href="juntando-dados.html#right-outer-join"><i class="fa fa-check"></i><b>6.2.3</b> Right Outer Join</a></li>
<li class="chapter" data-level="6.2.4" data-path="juntando-dados.html"><a href="juntando-dados.html#full-outer-join"><i class="fa fa-check"></i><b>6.2.4</b> Full Outer Join</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="juntando-dados.html"><a href="juntando-dados.html#exercicios-5"><i class="fa fa-check"></i><b>6.3</b> Exercícios</a></li>
<li class="chapter" data-level="6.4" data-path="juntando-dados.html"><a href="juntando-dados.html#exercicios-gerais-do-tidyverse"><i class="fa fa-check"></i><b>6.4</b> Exercícios gerais do Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html"><i class="fa fa-check"></i><b>7</b> Dados em strings (texto)</a><ul>
<li class="chapter" data-level="7.1" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#pacote-stringr"><i class="fa fa-check"></i><b>7.1</b> Pacote stringr</a><ul>
<li class="chapter" data-level="7.1.1" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#extrair-parte-de-uma-string"><i class="fa fa-check"></i><b>7.1.1</b> Extrair parte de uma string</a></li>
<li class="chapter" data-level="7.1.2" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#substituir-caracteres-em-um-string"><i class="fa fa-check"></i><b>7.1.2</b> Substituir caracteres em um string</a></li>
<li class="chapter" data-level="7.1.3" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#buscar-correspondencias-em-um-string"><i class="fa fa-check"></i><b>7.1.3</b> Buscar correspondências em um string</a></li>
<li class="chapter" data-level="7.1.4" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#complementar-uma-string"><i class="fa fa-check"></i><b>7.1.4</b> Complementar uma string</a></li>
<li class="chapter" data-level="7.1.5" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#remover-espacos-em-branco-desnecessarios"><i class="fa fa-check"></i><b>7.1.5</b> Remover espaços em branco desnecessários</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#regex"><i class="fa fa-check"></i><b>7.2</b> Regex</a></li>
<li class="chapter" data-level="7.3" data-path="dados-em-strings-texto.html"><a href="dados-em-strings-texto.html#exercicios-6"><i class="fa fa-check"></i><b>7.3</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="trabalhando-com-datas.html"><a href="trabalhando-com-datas.html"><i class="fa fa-check"></i><b>8</b> Trabalhando com datas</a><ul>
<li class="chapter" data-level="8.1" data-path="trabalhando-com-datas.html"><a href="trabalhando-com-datas.html#gerar-um-vetor-sequencial-de-datas"><i class="fa fa-check"></i><b>8.1</b> Gerar um vetor sequencial de datas</a></li>
<li class="chapter" data-level="8.2" data-path="trabalhando-com-datas.html"><a href="trabalhando-com-datas.html#parsear-datas-e-horarios"><i class="fa fa-check"></i><b>8.2</b> ‘Parsear’ datas e horários</a></li>
<li class="chapter" data-level="8.3" data-path="trabalhando-com-datas.html"><a href="trabalhando-com-datas.html#extrair-componentes-de-uma-data"><i class="fa fa-check"></i><b>8.3</b> Extrair componentes de uma data</a></li>
<li class="chapter" data-level="8.4" data-path="trabalhando-com-datas.html"><a href="trabalhando-com-datas.html#operacoes-matematicas-com-datas"><i class="fa fa-check"></i><b>8.4</b> Operações matemáticas com datas</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="escrevendo-dados.html"><a href="escrevendo-dados.html"><i class="fa fa-check"></i><b>9</b> Escrevendo dados</a><ul>
<li class="chapter" data-level="9.1" data-path="escrevendo-dados.html"><a href="escrevendo-dados.html#escrevendo-csv"><i class="fa fa-check"></i><b>9.1</b> Escrevendo csv</a></li>
<li class="chapter" data-level="9.2" data-path="escrevendo-dados.html"><a href="escrevendo-dados.html#rds"><i class="fa fa-check"></i><b>9.2</b> Rds</a></li>
<li class="chapter" data-level="9.3" data-path="escrevendo-dados.html"><a href="escrevendo-dados.html#escrevendo-outros-tipos-de-arquivos"><i class="fa fa-check"></i><b>9.3</b> Escrevendo outros tipos de arquivos</a></li>
<li class="chapter" data-level="9.4" data-path="escrevendo-dados.html"><a href="escrevendo-dados.html#exercicios-7"><i class="fa fa-check"></i><b>9.4</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="obtendo-dados.html"><a href="obtendo-dados.html"><i class="fa fa-check"></i><b>10</b> Obtendo dados</a><ul>
<li class="chapter" data-level="10.1" data-path="obtendo-dados.html"><a href="obtendo-dados.html#api"><i class="fa fa-check"></i><b>10.1</b> API</a></li>
<li class="chapter" data-level="10.2" data-path="obtendo-dados.html"><a href="obtendo-dados.html#web-scrapping"><i class="fa fa-check"></i><b>10.2</b> Web Scrapping</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html"><i class="fa fa-check"></i><b>11</b> Estruturas complexas de dados</a><ul>
<li class="chapter" data-level="11.1" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#introducao-a-listas"><i class="fa fa-check"></i><b>11.1</b> Introdução a listas</a></li>
<li class="chapter" data-level="11.2" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#introducao-ao-pacote-purrr"><i class="fa fa-check"></i><b>11.2</b> Introdução ao pacote purrr</a><ul>
<li class="chapter" data-level="11.2.1" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#map"><i class="fa fa-check"></i><b>11.2.1</b> <code>map()</code></a></li>
<li class="chapter" data-level="11.2.2" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#funcoes-derivadas-de-map"><i class="fa fa-check"></i><b>11.2.2</b> Funções derivadas de <code>map()</code></a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#ideia-de-projeto-aplicando-uma-serie-de-funcoes-a-uma-lista-de-arquivos"><i class="fa fa-check"></i><b>11.3</b> Ideia de projeto: Aplicando uma série de funções a uma lista de arquivos</a></li>
<li class="chapter" data-level="11.4" data-path="estruturas-complexas-de-dados.html"><a href="estruturas-complexas-de-dados.html#referencias"><i class="fa fa-check"></i><b>11.4</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>12</b> Visualizações de dados (ggplot2)</a><ul>
<li class="chapter" data-level="12.1" data-path="ggplot2.html"><a href="ggplot2.html#mapeamento-estetico"><i class="fa fa-check"></i><b>12.1</b> Mapeamento Estético</a></li>
<li class="chapter" data-level="12.2" data-path="ggplot2.html"><a href="ggplot2.html#objetos-geometricos"><i class="fa fa-check"></i><b>12.2</b> Objetos geométricos</a></li>
<li class="chapter" data-level="12.3" data-path="ggplot2.html"><a href="ggplot2.html#escalas"><i class="fa fa-check"></i><b>12.3</b> Escalas</a><ul>
<li class="chapter" data-level="12.3.1" data-path="ggplot2.html"><a href="ggplot2.html#tipos-de-variaveis"><i class="fa fa-check"></i><b>12.3.1</b> Tipos de Variáveis</a></li>
<li class="chapter" data-level="12.3.2" data-path="ggplot2.html"><a href="ggplot2.html#eixos"><i class="fa fa-check"></i><b>12.3.2</b> Eixos</a></li>
<li class="chapter" data-level="12.3.3" data-path="ggplot2.html"><a href="ggplot2.html#escalas-de-cores-color-e-preenchimento-fill"><i class="fa fa-check"></i><b>12.3.3</b> Escalas de Cores (color) e Preenchimento (fill)</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="ggplot2.html"><a href="ggplot2.html#subplots-facet"><i class="fa fa-check"></i><b>12.4</b> Subplots (facet)</a></li>
<li class="chapter" data-level="12.5" data-path="ggplot2.html"><a href="ggplot2.html#temas"><i class="fa fa-check"></i><b>12.5</b> Temas</a><ul>
<li class="chapter" data-level="12.5.1" data-path="ggplot2.html"><a href="ggplot2.html#temas-disponiveis-no-ggplot2"><i class="fa fa-check"></i><b>12.5.1</b> Temas disponíveis no ggplot2</a></li>
<li class="chapter" data-level="12.5.2" data-path="ggplot2.html"><a href="ggplot2.html#temas-no-pacote-ggthemes"><i class="fa fa-check"></i><b>12.5.2</b> Temas no pacote ggthemes</a></li>
<li class="chapter" data-level="12.5.3" data-path="ggplot2.html"><a href="ggplot2.html#hrbrthemes"><i class="fa fa-check"></i><b>12.5.3</b> hrbrthemes</a></li>
<li class="chapter" data-level="12.5.4" data-path="ggplot2.html"><a href="ggplot2.html#setando-o-tema-globalmente"><i class="fa fa-check"></i><b>12.5.4</b> Setando o tema globalmente</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="ggplot2.html"><a href="ggplot2.html#legendas"><i class="fa fa-check"></i><b>12.6</b> Legendas</a></li>
<li class="chapter" data-level="12.7" data-path="ggplot2.html"><a href="ggplot2.html#escolhendo-o-tipo-de-grafico"><i class="fa fa-check"></i><b>12.7</b> Escolhendo o tipo de gráfico</a></li>
<li class="chapter" data-level="12.8" data-path="ggplot2.html"><a href="ggplot2.html#grafico-de-dispersao-geom_point"><i class="fa fa-check"></i><b>12.8</b> Gráfico de Dispersão (<code>geom_point()</code>)</a></li>
<li class="chapter" data-level="12.9" data-path="ggplot2.html"><a href="ggplot2.html#graficos-de-bolhas"><i class="fa fa-check"></i><b>12.9</b> Gráficos de Bolhas</a></li>
<li class="chapter" data-level="12.10" data-path="ggplot2.html"><a href="ggplot2.html#graficos-de-barras"><i class="fa fa-check"></i><b>12.10</b> Gráficos de Barras</a></li>
<li class="chapter" data-level="12.11" data-path="ggplot2.html"><a href="ggplot2.html#graficos-de-linhas"><i class="fa fa-check"></i><b>12.11</b> Gráficos de linhas</a></li>
<li class="chapter" data-level="12.12" data-path="ggplot2.html"><a href="ggplot2.html#histogramas-e-freqpoly"><i class="fa fa-check"></i><b>12.12</b> Histogramas e freqpoly</a></li>
<li class="chapter" data-level="12.13" data-path="ggplot2.html"><a href="ggplot2.html#boxplots-jitterplots-e-violinplots"><i class="fa fa-check"></i><b>12.13</b> Boxplots, jitterplots e violinplots</a></li>
<li class="chapter" data-level="12.14" data-path="ggplot2.html"><a href="ggplot2.html#anotacoes"><i class="fa fa-check"></i><b>12.14</b> Anotações</a></li>
<li class="chapter" data-level="12.15" data-path="ggplot2.html"><a href="ggplot2.html#cleveland-dot-plot"><i class="fa fa-check"></i><b>12.15</b> Cleveland Dot Plot</a></li>
<li class="chapter" data-level="12.16" data-path="ggplot2.html"><a href="ggplot2.html#textosrotulos"><i class="fa fa-check"></i><b>12.16</b> Textos/Rótulos</a></li>
<li class="chapter" data-level="12.17" data-path="ggplot2.html"><a href="ggplot2.html#plotando-funcoes"><i class="fa fa-check"></i><b>12.17</b> Plotando funções</a></li>
<li class="chapter" data-level="12.18" data-path="ggplot2.html"><a href="ggplot2.html#mapas"><i class="fa fa-check"></i><b>12.18</b> Mapas</a><ul>
<li class="chapter" data-level="12.18.1" data-path="ggplot2.html"><a href="ggplot2.html#simplificando-o-shapefile"><i class="fa fa-check"></i><b>12.18.1</b> Simplificando o shapefile</a></li>
<li class="chapter" data-level="12.18.2" data-path="ggplot2.html"><a href="ggplot2.html#encoding-dos-dados-do-shapefile"><i class="fa fa-check"></i><b>12.18.2</b> Encoding dos dados do shapefile</a></li>
</ul></li>
<li class="chapter" data-level="12.19" data-path="ggplot2.html"><a href="ggplot2.html#salvando-graficos"><i class="fa fa-check"></i><b>12.19</b> Salvando Gráficos</a></li>
<li class="chapter" data-level="12.20" data-path="ggplot2.html"><a href="ggplot2.html#extensoes-do-ggplot2"><i class="fa fa-check"></i><b>12.20</b> Extensões do ggplot2</a><ul>
<li class="chapter" data-level="12.20.1" data-path="ggplot2.html"><a href="ggplot2.html#ggrepel"><i class="fa fa-check"></i><b>12.20.1</b> ggrepel</a></li>
<li class="chapter" data-level="12.20.2" data-path="ggplot2.html"><a href="ggplot2.html#gganimate"><i class="fa fa-check"></i><b>12.20.2</b> gganimate</a></li>
</ul></li>
<li class="chapter" data-level="12.21" data-path="ggplot2.html"><a href="ggplot2.html#exercicios-8"><i class="fa fa-check"></i><b>12.21</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="htmlwidgets.html"><a href="htmlwidgets.html"><i class="fa fa-check"></i><b>13</b> Visualizações Interativas</a><ul>
<li class="chapter" data-level="13.1" data-path="htmlwidgets.html"><a href="htmlwidgets.html#introducao-1"><i class="fa fa-check"></i><b>13.1</b> Introdução</a></li>
<li class="chapter" data-level="13.2" data-path="htmlwidgets.html"><a href="htmlwidgets.html#plotly"><i class="fa fa-check"></i><b>13.2</b> Plotly</a></li>
<li class="chapter" data-level="13.3" data-path="htmlwidgets.html"><a href="htmlwidgets.html#dygraphs"><i class="fa fa-check"></i><b>13.3</b> dygraphs</a></li>
<li class="chapter" data-level="13.4" data-path="htmlwidgets.html"><a href="htmlwidgets.html#leaflet"><i class="fa fa-check"></i><b>13.4</b> Leaflet</a><ul>
<li class="chapter" data-level="13.4.1" data-path="htmlwidgets.html"><a href="htmlwidgets.html#primeiro-exemplo"><i class="fa fa-check"></i><b>13.4.1</b> Primeiro exemplo</a></li>
<li class="chapter" data-level="13.4.2" data-path="htmlwidgets.html"><a href="htmlwidgets.html#marcadores"><i class="fa fa-check"></i><b>13.4.2</b> Marcadores</a></li>
<li class="chapter" data-level="13.4.3" data-path="htmlwidgets.html"><a href="htmlwidgets.html#poligonos"><i class="fa fa-check"></i><b>13.4.3</b> Polígonos</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="htmlwidgets.html"><a href="htmlwidgets.html#exercicios-9"><i class="fa fa-check"></i><b>13.5</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>14</b> RMarkdown</a><ul>
<li class="chapter" data-level="14.1" data-path="rmarkdown.html"><a href="rmarkdown.html#usos-do-rmarkdown"><i class="fa fa-check"></i><b>14.1</b> Usos do RMarkdown</a></li>
<li class="chapter" data-level="14.2" data-path="rmarkdown.html"><a href="rmarkdown.html#estrutura-de-um-rmarkdown"><i class="fa fa-check"></i><b>14.2</b> Estrutura de um RMarkdown</a></li>
<li class="chapter" data-level="14.3" data-path="rmarkdown.html"><a href="rmarkdown.html#renderizando-um-documento"><i class="fa fa-check"></i><b>14.3</b> Renderizando um documento</a></li>
<li class="chapter" data-level="14.4" data-path="rmarkdown.html"><a href="rmarkdown.html#sintaxe"><i class="fa fa-check"></i><b>14.4</b> Sintaxe</a></li>
<li class="chapter" data-level="14.5" data-path="rmarkdown.html"><a href="rmarkdown.html#opcoes-de-chunk"><i class="fa fa-check"></i><b>14.5</b> Opções de Chunk</a></li>
<li class="chapter" data-level="14.6" data-path="rmarkdown.html"><a href="rmarkdown.html#principais-formatos"><i class="fa fa-check"></i><b>14.6</b> Principais Formatos</a><ul>
<li class="chapter" data-level="14.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#html"><i class="fa fa-check"></i><b>14.6.1</b> HTML</a></li>
<li class="chapter" data-level="14.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#pdf"><i class="fa fa-check"></i><b>14.6.2</b> PDF</a></li>
<li class="chapter" data-level="14.6.3" data-path="rmarkdown.html"><a href="rmarkdown.html#word"><i class="fa fa-check"></i><b>14.6.3</b> Word</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="rmarkdown.html"><a href="rmarkdown.html#excercicios"><i class="fa fa-check"></i><b>14.7</b> Excercícios</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="modelos.html"><a href="modelos.html"><i class="fa fa-check"></i><b>15</b> Modelos</a><ul>
<li class="chapter" data-level="15.1" data-path="modelos.html"><a href="modelos.html#modelo-linear"><i class="fa fa-check"></i><b>15.1</b> Modelo Linear</a><ul>
<li class="chapter" data-level="15.1.1" data-path="modelos.html"><a href="modelos.html#regressao"><i class="fa fa-check"></i><b>15.1.1</b> Regressão</a></li>
<li class="chapter" data-level="15.1.2" data-path="modelos.html"><a href="modelos.html#classificacao"><i class="fa fa-check"></i><b>15.1.2</b> Classificação</a></li>
<li class="chapter" data-level="15.1.3" data-path="modelos.html"><a href="modelos.html#classificacao-com-modelos-baseados-em-arvores"><i class="fa fa-check"></i><b>15.1.3</b> Classificação com modelos baseados em árvores</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="modelos.html"><a href="modelos.html#exercicios-10"><i class="fa fa-check"></i><b>15.2</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="revisao-titanic.html"><a href="revisao-titanic.html"><i class="fa fa-check"></i><b>16</b> Revisão - Titanic</a><ul>
<li class="chapter" data-level="16.1" data-path="revisao-titanic.html"><a href="revisao-titanic.html#objetivo"><i class="fa fa-check"></i><b>16.1</b> Objetivo</a></li>
<li class="chapter" data-level="16.2" data-path="revisao-titanic.html"><a href="revisao-titanic.html#carregando-os-dados"><i class="fa fa-check"></i><b>16.2</b> Carregando os Dados</a></li>
<li class="chapter" data-level="16.3" data-path="revisao-titanic.html"><a href="revisao-titanic.html#manipulando-os-dados-1"><i class="fa fa-check"></i><b>16.3</b> Manipulando os dados</a><ul>
<li class="chapter" data-level="16.3.1" data-path="revisao-titanic.html"><a href="revisao-titanic.html#variavel-survived"><i class="fa fa-check"></i><b>16.3.1</b> Variável Survived</a></li>
<li class="chapter" data-level="16.3.2" data-path="revisao-titanic.html"><a href="revisao-titanic.html#variavel-name"><i class="fa fa-check"></i><b>16.3.2</b> Variável Name</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="revisao-titanic.html"><a href="revisao-titanic.html#idade"><i class="fa fa-check"></i><b>16.4</b> Idade</a><ul>
<li class="chapter" data-level="16.4.1" data-path="revisao-titanic.html"><a href="revisao-titanic.html#exercicio"><i class="fa fa-check"></i><b>16.4.1</b> Exercício</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="revisao-titanic.html"><a href="revisao-titanic.html#visualizacoes"><i class="fa fa-check"></i><b>16.5</b> Visualizações</a></li>
<li class="chapter" data-level="16.6" data-path="revisao-titanic.html"><a href="revisao-titanic.html#modelo-preditivo"><i class="fa fa-check"></i><b>16.6</b> Modelo Preditivo</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="referencias-1.html"><a href="referencias-1.html"><i class="fa fa-check"></i><b>17</b> Referências</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Publicado com bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ciência de Dados com R - Introdução</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ggplot2" class="section level1">
<h1><span class="header-section-number">12</span> Visualizações de dados (ggplot2)</h1>
<p>O <code>ggplot2</code> é mais um pacote desenvolvido por Hadley Wickham, o criador, por exemplo, do <code>tidyr</code> e do <code>dplyr</code>. A ideia do pacote, ainda que com algumas modificações, vem de uma obra chamada <a href="https://www.amazon.com/Grammar-Graphics-Statistics-Computing/dp/0387245448"><em>The Grammar of Graphics</em></a>, que é uma maneira de descrever um gráfico a partir dos seus componentes. Dessa forma, teoricamente, ficaria mais fácil entender a construção de gráficos mais complexos.</p>
<p>Esse pacote é estruturado de forma que a “gramática” seja utilizada para um gráfico a partir de múltiplas camadas. As camadas serão formadas por dados, mapeamentos estéticos, transformações estatísticas dos dados, objetos geométricos (pontos, linhas, barras etc.) e ajuste de posicionamento. Além disso, existem outros componentes, como os sistemas de coordenadas (cartesiano, polar, mapa etc.) e, se for o caso, divisões do gráfico em subplots (<em>facet</em>). Um simples exemplo de múltiplas camadas seria um gráfico de pontos adicionado de uma curva de ajustamento.</p>
<p>Uma forma geral (template) para entender-se a estrutura do ggplot2, segundo o próprio Hadley Wickhan, no livro <a href="http://r4ds.had.co.nz/data-visualisation.html#the-layered-grammar-of-graphics">R for Data Science</a>, é a seguinte:</p>
<pre><code>ggplot(data = &lt;DATA&gt;) + 
  &lt;GEOM_FUNCTION&gt;(
     mapping = aes(&lt;MAPPINGS&gt;),
     stat = &lt;STAT&gt;, 
     position = &lt;POSITION&gt;
  ) +
  &lt;COORDINATE_FUNCTION&gt; +
  &lt;FACET_FUNCTION&gt; # dividir o gráfico em subplots</code></pre>
<p>A ideia é que todo gráfico pode ser representado por essa forma. No entanto, na criação de um gráfico, não é necessário especificar-se todas as partes acima. O ggplot2 já oferece um padrão para o sistema de coordenadas, para o <code>stat</code> e <code>position</code>. O <code>facet</code> (subplot) só será utilizado quando necessário.</p>
<p>Além disso, existem as escalas que são utilizadas para controlar o mapeamento dos dados em relação aos atributos estéticos do gráfico. Por exemplo: suponha que no seu gráfico exista uma coluna que é uma variável categórica com três classes possíveis e as cores do objeto geométrico estejam associadas a essa variável. Automaticamente, o ggplot2 definirá uma cor pra cada classe. No entanto, você pode alterar a escala de cores para ter controle sobre elas. O mesmo vale para os valores apresentados nos eixos x e y.</p>
<p>Uma observação importante é que apesar dos dados estarem na função <code>ggplot()</code> (<code>&lt;DATA&gt;</code>), eles também podem ser incluídos diretamente em cada objeto geométrico. Isto será útil quando for necessário criar-se uma nova camada a partir de dados diferentes daqueles que estão inicialmente nos gráficos.</p>
<p>Dessa forma, incorporando essas observações, um template estendido seria o abaixo:</p>
<pre><code>ggplot(data = &lt;DATA&gt;) + 
  &lt;GEOM_FUNCTION&gt;(
     mapping = aes(&lt;MAPPINGS&gt;),
     stat = &lt;STAT&gt;, 
     position = &lt;POSITION&gt;,
     data = &lt;DATA&gt; # pode receber os dados diretamente
  ) +
  &lt;SCALE_FUNCTION&gt; + # uma para cada elemento estético
  &lt;COORDINATE_FUNCTION&gt; +
  &lt;FACET_FUNCTION&gt; # dividir o gráfico em subplots</code></pre>
<p>Também é importante ressaltar-se que, como todo sistema de gráficos, é possível alterar-se todos os títulos e rótulos do gráfico, além do controle sobre as características do tema do gráfico (cor do fundo, estilo da fonte, tamanho da fonte etc).</p>
<p>Para quebrar-se a barreira inicial, vamos criar um exemplo por partes:</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb483-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb483-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)</a>
<a class="sourceLine" id="cb483-3" data-line-number="3"></a>
<a class="sourceLine" id="cb483-4" data-line-number="4"><span class="co"># Inicia o plot</span></a>
<a class="sourceLine" id="cb483-5" data-line-number="5">g &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars)</a>
<a class="sourceLine" id="cb483-6" data-line-number="6"></a>
<a class="sourceLine" id="cb483-7" data-line-number="7"><span class="co"># Adicionar pontos (geom_point) e</span></a>
<a class="sourceLine" id="cb483-8" data-line-number="8"><span class="co"># vamos mapear variáveis a elementos estéticos dos pontos</span></a>
<a class="sourceLine" id="cb483-9" data-line-number="9"><span class="co"># Size = 3 define o tamanho de todos os pontos</span></a>
<a class="sourceLine" id="cb483-10" data-line-number="10">g &lt;-<span class="st"> </span>g <span class="op">+</span></a>
<a class="sourceLine" id="cb483-11" data-line-number="11"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> hp, <span class="dt">y =</span> mpg, <span class="dt">color =</span> <span class="kw">factor</span>(am)),</a>
<a class="sourceLine" id="cb483-12" data-line-number="12">             <span class="dt">size =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb483-13" data-line-number="13"></a>
<a class="sourceLine" id="cb483-14" data-line-number="14"><span class="co"># Altera a escala de cores</span></a>
<a class="sourceLine" id="cb483-15" data-line-number="15">g &lt;-<span class="st"> </span>g <span class="op">+</span></a>
<a class="sourceLine" id="cb483-16" data-line-number="16"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="st">&quot;Automatic&quot;</span>,</a>
<a class="sourceLine" id="cb483-17" data-line-number="17">                     <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>),</a>
<a class="sourceLine" id="cb483-18" data-line-number="18">                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>))</a>
<a class="sourceLine" id="cb483-19" data-line-number="19"></a>
<a class="sourceLine" id="cb483-20" data-line-number="20"><span class="co"># Rótulos (títulos)</span></a>
<a class="sourceLine" id="cb483-21" data-line-number="21">g &lt;-<span class="st"> </span>g <span class="op">+</span></a>
<a class="sourceLine" id="cb483-22" data-line-number="22"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&#39;Relação entre consumo, potência e tipo de câmbio&#39;</span>,</a>
<a class="sourceLine" id="cb483-23" data-line-number="23">       <span class="dt">y =</span> <span class="st">&#39;Consumo&#39;</span>,</a>
<a class="sourceLine" id="cb483-24" data-line-number="24">       <span class="dt">x =</span> <span class="st">&#39;Potência&#39;)</span></a>
<a class="sourceLine" id="cb483-25" data-line-number="25"></a>
<a class="sourceLine" id="cb483-26" data-line-number="26"><span class="st">g</span></a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-2-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Note que o gráfico poderia ser criado com um bloco único de código:</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb484-1" data-line-number="1"><span class="kw">ggplot</span>(mtcars) <span class="op">+</span></a>
<a class="sourceLine" id="cb484-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> hp, <span class="dt">y =</span> mpg, <span class="dt">color =</span> <span class="kw">factor</span>(am)),</a>
<a class="sourceLine" id="cb484-3" data-line-number="3">             <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb484-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="st">&quot;Automatic&quot;</span>,</a>
<a class="sourceLine" id="cb484-5" data-line-number="5">                     <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>),</a>
<a class="sourceLine" id="cb484-6" data-line-number="6">                     <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;No&quot;</span>, <span class="st">&quot;Yes&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb484-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&#39;Relação entre consumo, potência e tipo de câmbio&#39;</span>,</a>
<a class="sourceLine" id="cb484-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&#39;Consumo&#39;</span>,</a>
<a class="sourceLine" id="cb484-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&#39;Potência&#39;)</span></a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-3-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Detalharemos cada parte do gráfico, mas vale falar-se rapidamente sobre o código acima. Primeiramente, passamos um conjunto de dados para o ggplot. Depois, adicionamos uma camada de pontos, mapeando as variáveis <code>hp</code> e <code>mpg</code> para as posições de cada ponto nos eixos <code>x</code> e <code>y</code>, respectivamente, e a variável <code>am</code> para a cor de cada ponto. Em seguida, alteramos a escala de cor, definindo seu título, os rótulos (<code>labels</code>) e os valores (<code>values</code>) para as cores. Por fim, definimos os títulos/rótulos do gráfico.</p>
<p>Nas próximas seções, falaremos com mais detalhes sobre cada componente, começando pelo mapeamento estético.</p>
<div id="mapeamento-estetico" class="section level2">
<h2><span class="header-section-number">12.1</span> Mapeamento Estético</h2>
<p>O mapeamento estético é o mapeamento das variáveis dos dados para as características visuais dos objetos geométricos (pontos, barras, linhas etc.). Isto é feito a partir da função <code>aes()</code>. E quais são as características visuais de um objeto geométrico? Abaixo segue uma lista não exaustiva:</p>
<ul>
<li>Posição (<code>x</code> e <code>y</code>);</li>
<li>Cor (<code>color</code>);</li>
<li>Tamanho (<code>size</code>);</li>
<li>Preenchimento (<code>fill</code>);</li>
<li>Transparência (<code>alpha</code>);</li>
<li>Texto (<code>label</code>).</li>
</ul>
<p>Como vimos no exemplo acima, mapeamos três variáveis para três características visuais de cada ponto: posição <code>x</code>, posição <code>y</code> e cor. Nos próximos exemplos, outros elementos estéticos serão utilizados, conforme o objeto geométrico selecionado.</p>
</div>
<div id="objetos-geometricos" class="section level2">
<h2><span class="header-section-number">12.2</span> Objetos geométricos</h2>
<p>Os objetos geométricos começam com a expressão <code>geom_</code> e são seguidos pelo tipo de objeto. Por exemplo, <code>geom_point()</code> para pontos e <code>geom_bar()</code> para barras. A tabela abaixo apresenta os tipos de objetos geométricos utilizados para criar-se alguns tipos de gráficos populares.</p>
<table>
<thead>
<tr class="header">
<th align="center">Tipo</th>
<th align="center">Objeto Geométrico</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">Dispersão (scatterplot)</td>
<td align="center"><code>geom_point()</code></td>
</tr>
<tr class="even">
<td align="center">Gráfico de bolhas</td>
<td align="center"><code>geom_point()</code></td>
</tr>
<tr class="odd">
<td align="center">Gráfico de barras</td>
<td align="center"><code>geom_bar()</code> e <code>geom_col()</code></td>
</tr>
<tr class="even">
<td align="center">Histograma</td>
<td align="center"><code>geom_histogram()</code></td>
</tr>
<tr class="odd">
<td align="center">Boxplot</td>
<td align="center"><code>geom_boxplot()</code></td>
</tr>
<tr class="even">
<td align="center">Densidade</td>
<td align="center"><code>geom_density()</code></td>
</tr>
<tr class="odd">
<td align="center">Gráfico de linhas</td>
<td align="center"><code>geom_line()</code></td>
</tr>
</tbody>
</table>
<p>Nesse material, os principais tipos de objetos geométricos serão demonstrados a partir de exemplos. A lista completa de objetos geométricos e as descrições dos argumentos estão na <a href="http://docs.ggplot2.org/current/">documentação</a> do <code>ggplot2</code>.</p>
<p>É importante saber-se que um gráfico do ggplot2 pode ter mais de um objeto geométrico, cada um formando uma camada. Por exemplo, uma camada de pontos e outra de linhas que conectam os pontos.</p>
<p>Vamos, primeiramente, criar um gráfico com pontos a partir dos dados <code>mtcars</code>. Use <code>?mtcars</code> para mais detalhes.</p>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb485-1" data-line-number="1">g1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">y =</span> mpg, <span class="dt">x =</span> disp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb485-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb485-3" data-line-number="3"></a>
<a class="sourceLine" id="cb485-4" data-line-number="4">g1</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-4-1.png" width="100%" style="display: block; margin: auto;" />
&gt; Note que o <code>aes()</code> está sendo usado diretamente na função <code>ggplot()</code> e não no objeto geométrico. O que isto significa? Que o mapeamento estético definido na função <code>ggplot()</code> é global. Ou seja, é aplicado para todos os objetos geométricos daquele gráfico, a menos que seja explicitado novamente em alguma camada.</p>
<p>Para finalizarmos essa breve introdução a objetos geométricos, adicionemos mais uma camada ao gráfico:</p>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb486-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb486-2" data-line-number="2">mtcars &lt;-<span class="st"> </span>mtcars <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb486-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">name =</span> <span class="kw">rownames</span>(mtcars))</a>
<a class="sourceLine" id="cb486-4" data-line-number="4"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(<span class="dt">y =</span> mpg, <span class="dt">x =</span> disp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb486-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb486-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_smooth</span>()</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-5-1.png" width="100%" style="display: block; margin: auto;" />
No caso, adicionamos uma curva de ajustamento aos dados, que tem o objetivo de evidenciar um padrão nos mesmos.</p>
</div>
<div id="escalas" class="section level2">
<h2><span class="header-section-number">12.3</span> Escalas</h2>
<p>O controle sobre as escalas do gráfico é fundamental no ajuste de um gráfico. Em geral, o ggplot2, como outros pacotes gráficos, fornece as escalas automaticamente, não sendo necessário o entendimento de como se controlar este componente. No entanto, se o interesse é ter controle sobre todos os aspectos de um gráfico, esse componente é fundamental.</p>
<p>Veja o gráfico abaixo:</p>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb487-1" data-line-number="1"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, <span class="dt">y =</span> Petal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb487-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-6-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Note que a cor está mapeada para a variável <code>Species</code>. O <code>ggplot2</code>, automaticamente, criou a seguinte escala:</p>
<table>
<thead>
<tr class="header">
<th align="center">Species</th>
<th align="center">Cor</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">setosa</td>
<td align="center">vermelho</td>
</tr>
<tr class="even">
<td align="center">versicolor</td>
<td align="center">verde</td>
</tr>
<tr class="odd">
<td align="center">virginica</td>
<td align="center">azul</td>
</tr>
</tbody>
</table>
<p>Todavia, é comum haver interesse em alterar-se essas cores, ou seja, alterar-se a escala de cor. Como fazer isso no ggplot2? Podemos usar, por exemplo, a função <code>scale_color_manual()</code>:</p>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb488-1" data-line-number="1"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, <span class="dt">y =</span> Petal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb488-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb488-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;orange&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-7-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Utilizamos a função <code>scale_color_manual()</code> em razão da variável <code>Species</code> ser categórica. Para o ggplot2, dados categóricos são discretos, e a função citada permite criar-se uma escala discreta customizada. No entanto, essa não é a única função para controlar escala de cor. Existem outras como <code>scale_color_discrete()</code>, <code>scale_color_continuous()</code>, <code>scale_color_gradient()</code> etc. A utilização de cada função depende do tipo de dado que se está associando ao elemento estético <code>color</code>. Adiante, entraremos em mais detalhes sobre os tipos de dados.</p>
<p>As funções utilizadas para controlar-se as escalas dos elementos de um gráfico do ggplot2 seguem um padrão. Todas iniciam-se com <code>scale_</code>, depois o nome do elemento estético (color, fill, x etc.) e, por fim, o tipo/nome da escala que será aplicada.</p>
<p>Abaixo, continuaremos o exemplo anterior, alterando as escalas dos eixos x e y. Note que as variáveis <code>Petal.Length</code> e <code>Petal.Width</code> são variáveis numéricas/contínuas. Dessa forma, utilizaremos as funções <code>scale_x_continuous()</code> e <code>scale_y_continuous()</code>:</p>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb489-1" data-line-number="1"><span class="kw">ggplot</span>(iris, <span class="kw">aes</span>(<span class="dt">x =</span> Petal.Length, <span class="dt">y =</span> Petal.Width, <span class="dt">color =</span> Species)) <span class="op">+</span></a>
<a class="sourceLine" id="cb489-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb489-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;orange&quot;</span>, <span class="st">&quot;black&quot;</span>, <span class="st">&quot;red&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb489-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Petal Length&quot;</span>, <span class="dt">breaks =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">7</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb489-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="st">&quot;Petal Width&quot;</span>, <span class="dt">breaks =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">3</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-8-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>No gráfico acima, definimos quais seriam os pontos em que rótulos deveriam ser exibidos em cada eixo. Além disso, no eixo y, definimos que os limites seriam 0 e 3.</p>
<div id="tipos-de-variaveis" class="section level3">
<h3><span class="header-section-number">12.3.1</span> Tipos de Variáveis</h3>
<p>Para melhor uso das escalas, é preciso saber o tipo de variável que foi mapeado para cada elemento estético. Vamos rapidamente montar essa relação:</p>
<table>
<thead>
<tr class="header">
<th align="center">Classe</th>
<th align="center">Exemplo</th>
<th align="center">Tipo no ggplot2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">numeric</td>
<td align="center">seq(0, 1, length.out = 10)</td>
<td align="center">continuous</td>
</tr>
<tr class="even">
<td align="center">integer</td>
<td align="center">1L:10L</td>
<td align="center">continuous ou discrete</td>
</tr>
<tr class="odd">
<td align="center">character</td>
<td align="center">c(“Sim”, “Não”)</td>
<td align="center">discrete</td>
</tr>
<tr class="even">
<td align="center">factor</td>
<td align="center">factor(c(“Sim”, “Não”))</td>
<td align="center">discrete</td>
</tr>
<tr class="odd">
<td align="center">date</td>
<td align="center">seq(as.Date(“2000/1/1”), by = “month”, length.out = 12)</td>
<td align="center">date</td>
</tr>
</tbody>
</table>
<p>Lembre-se que o padrão do ggplot é <code>scale_</code>, depois o nome do elemento estético (color, fill, x etc.) e, por fim, o tipo/nome da escala que será aplicada. É importante que o usuário saiba o tipo de dado, pois assim saberá com mais facilidade qual é o tipo de escala que deve ser escolhido.</p>
<p>Vamos, em sequência, entrar em mais detalhes para escalas dos eixos (<code>x</code> e <code>y</code>) e de cores. Espera-se que a intuição desenvolvida a partir dos exemplos das escalas para esses elementos estéticos seja útil para os demais elementos estéticos.</p>
</div>
<div id="eixos" class="section level3">
<h3><span class="header-section-number">12.3.2</span> Eixos</h3>
<div id="variaveis-continuas" class="section level4">
<h4><span class="header-section-number">12.3.2.1</span> Variáveis Contínuas</h4>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb490-1" data-line-number="1"><span class="kw">scale_x_continuous</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb490-2" data-line-number="2">                   <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb490-3" data-line-number="3">                   <span class="dt">oob =</span> censor, <span class="dt">na.value =</span> <span class="ot">NA_real_</span>, <span class="dt">trans =</span> <span class="st">&quot;identity&quot;</span>)</a>
<a class="sourceLine" id="cb490-4" data-line-number="4"></a>
<a class="sourceLine" id="cb490-5" data-line-number="5"><span class="kw">scale_y_continuous</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb490-6" data-line-number="6">                   <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb490-7" data-line-number="7">                   <span class="dt">oob =</span> censor, <span class="dt">na.value =</span> <span class="ot">NA_real_</span>, <span class="dt">trans =</span> <span class="st">&quot;identity&quot;</span>)</a></code></pre></div>
<p>Vamos começar editando os valores dos eixos <code>x</code> e <code>y</code>. Anteriormente, já demos uma pequena amostra sobre a edição dos eixos <code>x</code> e <code>y</code>. Abaixo, será apresentado mais um exemplo:</p>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb491-1" data-line-number="1"><span class="kw">library</span>(ISLR)</a>
<a class="sourceLine" id="cb491-2" data-line-number="2"></a>
<a class="sourceLine" id="cb491-3" data-line-number="3"><span class="kw">ggplot</span>(Wage, <span class="kw">aes</span>(<span class="dt">x =</span> age, <span class="dt">y =</span> wage, <span class="dt">color =</span> education)) <span class="op">+</span></a>
<a class="sourceLine" id="cb491-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb491-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="st">&quot;Idade&quot;</span>, <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">80</span>, <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb491-6" data-line-number="6">                     <span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">5</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb491-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="st">&quot;Salário&quot;</span>, <span class="dt">labels =</span> <span class="cf">function</span>(x) <span class="kw">paste0</span>(<span class="st">&quot;US$ &quot;</span>, x),</a>
<a class="sourceLine" id="cb491-8" data-line-number="8">                     <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">400</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-10-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Para o eixo <code>x</code>, determinamos que as quebras (<code>breaks</code>) acontecem a cada 5 anos. O <code>expand(0,0)</code> é um argumento que controla os espaços adicionais no final do gráfico. É preciso fornecer-se um vetor de tamanho 2, com uma constante multiplicativa e outra aditiva. No exemplo acima, eliminamos a expansão.</p>
<p>Para o eixo <code>y</code>, informamos que o nome do eixo é <code>Salário</code>, que os limites inferior e superior são 0 e 400 e alteramos os rótulos. No caso, passamos uma função que concatena <code>US$</code> com o valor que já seria exibido. Note que, sabendo de antemão todos os breaks, é possível definir-se manualmente os labels. Veremos isso no exemplo com variáveis categóricas, no entanto, para variáveis contínuas, o uso de funções parece mais apropriado.</p>
</div>
<div id="variaveis-discretas" class="section level4">
<h4><span class="header-section-number">12.3.2.2</span> Variáveis discretas</h4>
<p>Apesar do <em>help</em> não apresentar todos os argumentos para as escalas discretas, podemos usar quase todos que foram listados para escala contínua.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb492-1" data-line-number="1"><span class="kw">scale_x_discrete</span>(..., <span class="dt">expand =</span> <span class="kw">waiver</span>(), <span class="dt">position =</span> <span class="st">&quot;bottom&quot;</span>)</a>
<a class="sourceLine" id="cb492-2" data-line-number="2"></a>
<a class="sourceLine" id="cb492-3" data-line-number="3"><span class="kw">scale_y_discrete</span>(..., <span class="dt">expand =</span> <span class="kw">waiver</span>(), <span class="dt">position =</span> <span class="st">&quot;left&quot;</span>)</a></code></pre></div>
<p>No exemplo abaixo, alteraremos os rótulos para uma escala discreta, que originalmente contém os valores <code>Yes</code> e <code>No</code>.</p>
<div class="sourceCode" id="cb493"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb493-1" data-line-number="1"><span class="kw">ggplot</span>(Default, <span class="kw">aes</span>(<span class="dt">x =</span> default, <span class="dt">y =</span> balance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb493-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb493-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="st">&quot;Calote&quot;</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Não&quot;</span>, <span class="st">&quot;Sim&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb493-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Valor devido médio após o pagamento mensal&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-12-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Pode-se utilizar o argumento <code>limits</code> para alterar-se a ordem das categorias.</p>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb494-1" data-line-number="1"><span class="kw">ggplot</span>(Default, <span class="kw">aes</span>(<span class="dt">x =</span> default, <span class="dt">y =</span> balance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb494-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb494-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="st">&quot;Calote&quot;</span>, <span class="dt">limits =</span> <span class="kw">c</span>(<span class="st">&quot;Yes&quot;</span>, <span class="st">&quot;No&quot;</span>),</a>
<a class="sourceLine" id="cb494-4" data-line-number="4">                   <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Sim&quot;</span>, <span class="st">&quot;Não&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb494-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Valor devido médio após o pagamento mensal&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-13-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Também pode-se alterar a ordem de variáveis categóricas alterando-se a ordem dos níveis (<code>levels</code>) da variável no data.frame original, ou utilizando-se as funções <code>ylim()</code> e <code>xlim()</code>. Experimente.</p>
</div>
<div id="variaveis-de-datas" class="section level4">
<h4><span class="header-section-number">12.3.2.3</span> Variáveis de Datas</h4>
<p>Quando estamos trabalhando com séries temporais, é comum que datas sejam associadas a algum eixo do gŕafico, geralmente ao eixo <code>x</code>. As funções padrão para controle de escalas dos eixos, para variáveis de datas, são as seguintes:</p>
<div class="sourceCode" id="cb495"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb495-1" data-line-number="1"><span class="kw">scale_x_date</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">date_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-2" data-line-number="2">             <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">date_labels =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-3" data-line-number="3">             <span class="dt">date_minor_breaks =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>())</a>
<a class="sourceLine" id="cb495-4" data-line-number="4"></a>
<a class="sourceLine" id="cb495-5" data-line-number="5"><span class="kw">scale_y_date</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">date_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-6" data-line-number="6">             <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">date_labels =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-7" data-line-number="7">             <span class="dt">date_minor_breaks =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>())</a>
<a class="sourceLine" id="cb495-8" data-line-number="8"></a>
<a class="sourceLine" id="cb495-9" data-line-number="9"><span class="kw">scale_x_datetime</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">date_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-10" data-line-number="10">                 <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">date_labels =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-11" data-line-number="11">                 <span class="dt">date_minor_breaks =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>())</a>
<a class="sourceLine" id="cb495-12" data-line-number="12"></a>
<a class="sourceLine" id="cb495-13" data-line-number="13"><span class="kw">scale_y_datetime</span>(<span class="dt">name =</span> <span class="kw">waiver</span>(), <span class="dt">breaks =</span> <span class="kw">waiver</span>(), <span class="dt">date_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-14" data-line-number="14">                 <span class="dt">labels =</span> <span class="kw">waiver</span>(), <span class="dt">date_labels =</span> <span class="kw">waiver</span>(), <span class="dt">minor_breaks =</span> <span class="kw">waiver</span>(),</a>
<a class="sourceLine" id="cb495-15" data-line-number="15">                 <span class="dt">date_minor_breaks =</span> <span class="kw">waiver</span>(), <span class="dt">limits =</span> <span class="ot">NULL</span>, <span class="dt">expand =</span> <span class="kw">waiver</span>())</a></code></pre></div>
<p>O <code>scale_*_date</code> é utilizado para variáveis do tipo <code>Date</code> e <code>scale_*_datetime</code> para variáveis do tipo <code>POSIXct</code>. A classe <code>POSIXct</code> aceita informações relacionadas a tempo/horário e a classe <code>Date</code> aceita apenas dia, mês e ano.</p>
<p>O mais importante é a possibilidade de alterar-se o modo como as datas são apresentadas a partir do argumento <code>date_labels</code>. Para isso, utilizaremos um exemplo a partir dos dados <code>economics</code>. Primeiro, observa-se o resultado padrão do ggplot2:</p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb496-1" data-line-number="1"><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> unemploy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb496-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>() </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-16-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Agora, suponha que queremos alterar o gráfico para o formato “Jan/1970”:</p>
<div class="sourceCode" id="cb497"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb497-1" data-line-number="1"><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> unemploy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb497-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb497-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_labels =</span> <span class="st">&quot;%b/%Y&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-17-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>O <code>%b/%Y</code> é usado para definir-se o formato de data desejado. Para ver a lista de formatos, use <code>help(strptime)</code>. Para os <code>breaks</code>, temos duas opções: utilizar-se o argumento <code>breaks</code>, informando um vetor de datas, ou usar-se o argumento <code>date_breaks</code>, em que se informa a frequência dos breaks (por exemplo, “1 month” e “5 years”). Veja os exemplos abaixos:</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb498-1" data-line-number="1"><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> unemploy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb498-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb498-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;5 years&quot;</span>, <span class="dt">date_labels =</span> <span class="st">&quot;%Y&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-18-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb499"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb499-1" data-line-number="1">seq_datas &lt;-<span class="st"> </span><span class="kw">seq.Date</span>(<span class="kw">as.Date</span>(<span class="st">&#39;1970-01-01&#39;</span>),</a>
<a class="sourceLine" id="cb499-2" data-line-number="2">                      <span class="kw">as.Date</span>(<span class="st">&#39;2015-04-01&#39;</span>),</a>
<a class="sourceLine" id="cb499-3" data-line-number="3">                      <span class="dt">by =</span> <span class="st">&#39;5 years&#39;</span>)</a>
<a class="sourceLine" id="cb499-4" data-line-number="4"><span class="kw">ggplot</span>(economics, <span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> unemploy)) <span class="op">+</span></a>
<a class="sourceLine" id="cb499-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb499-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">breaks =</span> seq_datas, <span class="dt">date_labels =</span> <span class="st">&quot;%Y&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-19-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="escalas-de-cores-color-e-preenchimento-fill" class="section level3">
<h3><span class="header-section-number">12.3.3</span> Escalas de Cores (color) e Preenchimento (fill)</h3>
<p>Como nos casos dos eixos <code>x</code> e <code>y</code>, o tipo da variável utilizada define qual o tipo de escala.</p>
<table>
<colgroup>
<col width="13%" />
<col width="10%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Tipo da Variável</th>
<th>Escala</th>
<th>Descrição</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Discreta</td>
<td><strong>hue</strong></td>
<td>escolhe n cores igualmente espaçadas em um disco de cores. É possível editar a luminosidade e a saturação.</td>
</tr>
<tr class="even">
<td></td>
<td>grey</td>
<td>escala de cinza</td>
</tr>
<tr class="odd">
<td></td>
<td>brewer</td>
<td>ver pacote RColorBrewer</td>
</tr>
<tr class="even">
<td></td>
<td>identity</td>
<td>usa as cores inseridas na própria variável</td>
</tr>
<tr class="odd">
<td></td>
<td>manual</td>
<td>escolhe as cores manualmente</td>
</tr>
<tr class="even">
<td>Contínua</td>
<td><strong>gradient</strong></td>
<td>cria um gradiente de duas cores (low-high)</td>
</tr>
<tr class="odd">
<td></td>
<td>gradient2</td>
<td>cria um gradiente de cores divergentes (low-mid-high)</td>
</tr>
<tr class="even">
<td></td>
<td>gradientn</td>
<td>cria um gradiente com n cores</td>
</tr>
</tbody>
</table>
<p>A opção <code>hue</code> usa a seguinte roda de cores:</p>
<div class="figure" style="text-align: center"><span id="fig:11-ggplot2-20"></span>
<img src="cdr-intro_files/figure-html/11-ggplot2-20-1.png" alt="Roda de Cores - hue" width="100%" />
<p class="caption">
Figura 12.1: Roda de Cores - hue
</p>
</div>
<p>A opção brewer pode usar as paletas de cores disponíveis no pacote RColorBrewer.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb500-1" data-line-number="1"><span class="kw">library</span>(RColorBrewer)</a>
<a class="sourceLine" id="cb500-2" data-line-number="2"><span class="kw">display.brewer.all</span>(<span class="dt">n=</span><span class="ot">NULL</span>, <span class="dt">type=</span><span class="st">&quot;all&quot;</span>, <span class="dt">select=</span><span class="ot">NULL</span>, <span class="dt">exact.n=</span><span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb500-3" data-line-number="3">                                 <span class="dt">colorblindFriendly=</span><span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="images/brewer_pal.png" width="100%" style="display: block; margin: auto;" /></p>
<p>No exemplo abaixo, vamos utilizar a função <code>brewer.pal</code>, que retorna um vetor de cores de alguma paleta do pacote RColorBrewer. O objeto <code>paleta.gradientn</code> recebe nove cores da paleta <code>Reds</code>. Essas cores são utilizadas na função <code>scale_fill_gradientn()</code>.</p>
<div class="sourceCode" id="cb501"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb501-1" data-line-number="1">paleta.gradientn &lt;-<span class="st"> </span><span class="kw">brewer.pal</span>(<span class="dt">n =</span> <span class="dv">9</span>, <span class="dt">name =</span> <span class="st">&#39;Reds&#39;</span>)</a>
<a class="sourceLine" id="cb501-2" data-line-number="2">Credit <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb501-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(Cards, Student) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb501-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Balance =</span> <span class="kw">mean</span>(Balance), <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb501-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Cards, <span class="dt">y =</span> Student, <span class="dt">fill =</span> Balance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb501-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_tile</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb501-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_fill_gradientn</span>(<span class="dt">colors =</span> <span class="kw">rev</span>(paleta.gradientn)) <span class="op">+</span></a>
<a class="sourceLine" id="cb501-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-24-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Alguns pacotes também fornecem escalas de cores próprias, como é o caso do pacote <code>viridis</code>.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb502-1" data-line-number="1">Credit <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb502-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(Cards, Student) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb502-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">Balance =</span> <span class="kw">mean</span>(Balance), <span class="dt">n =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb502-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> Cards, <span class="dt">y =</span> Student, <span class="dt">fill =</span> Balance)) <span class="op">+</span></a>
<a class="sourceLine" id="cb502-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_tile</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb502-6" data-line-number="6"><span class="st">  </span>viridis<span class="op">::</span><span class="kw">scale_fill_viridis</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb502-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">9</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-25-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Agora, vamos a um exemplo utilizando o <code>scale_color_manual()</code>:</p>
<div class="sourceCode" id="cb503"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb503-1" data-line-number="1"><span class="kw">ggplot</span>(Wage, <span class="kw">aes</span>(<span class="dt">y =</span> wage, <span class="dt">x =</span> age, <span class="dt">color =</span> education)) <span class="op">+</span></a>
<a class="sourceLine" id="cb503-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb503-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;#66C2A5&quot;</span>, <span class="st">&quot;#FC8D62&quot;</span>, <span class="st">&quot;#8DA0CB&quot;</span>, <span class="st">&quot;#E78AC3&quot;</span>, <span class="st">&quot;#A6D854&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-26-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Aqui fizemos uma introdução ao componente de escalas. Não tratamos de todas as funções de escalas. A ideia é passar-se a lógica geral para se utilizar escalas e não que o usuário decore todas as funções, o que seria contraproducente.</p>
</div>
</div>
<div id="subplots-facet" class="section level2">
<h2><span class="header-section-number">12.4</span> Subplots (facet)</h2>
<p>O ggplot2 facilita a criação de subplots nos casos em que se deseja replicar o mesmo gráfico para um conjunto de valores de outra variável. Por exemplo, criar um gráfico da série temporal de desemprego para cada unidade da federação. As duas principais funções são <code>facet_wrap()</code> e <code>facet_grid()</code>.</p>
<ul>
<li>Painéis em formato de grid:</li>
</ul>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb504-1" data-line-number="1"><span class="kw">facet_grid</span>(facets, <span class="dt">margins =</span> <span class="ot">FALSE</span>, <span class="dt">scales =</span> <span class="st">&quot;fixed&quot;</span>, <span class="dt">space =</span> <span class="st">&quot;fixed&quot;</span>, <span class="dt">shrink =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb504-2" data-line-number="2">           <span class="dt">labeller =</span> <span class="st">&quot;label_value&quot;</span>, <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">switch =</span> <span class="ot">NULL</span>, <span class="dt">drop =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<ul>
<li>Converte painéis de uma dimensão para duas dimensões:</li>
</ul>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb505-1" data-line-number="1"><span class="kw">facet_wrap</span>(facets, <span class="dt">nrow =</span> <span class="ot">NULL</span>, <span class="dt">ncol =</span> <span class="ot">NULL</span>, <span class="dt">scales =</span> <span class="st">&quot;fixed&quot;</span>, <span class="dt">shrink =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb505-2" data-line-number="2">           <span class="dt">labeller =</span> <span class="st">&quot;label_value&quot;</span>, <span class="dt">as.table =</span> <span class="ot">TRUE</span>, <span class="dt">switch =</span> <span class="ot">NULL</span>, <span class="dt">drop =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb505-3" data-line-number="3">           <span class="dt">dir =</span> <span class="st">&quot;h&quot;</span>)</a></code></pre></div>
<p>Antes de mais nada, vamos criar um exemplo para o <code>facet_wrap()</code>:</p>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb506-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb506-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-29-1.png" width="100%" style="display: block; margin: auto;" />
E se o objetivo for comparar essas relações para diferentes grupos de lapidação?</p>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb507-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb507-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb507-3" data-line-number="3"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(cut))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-30-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Usamos a sintaxe <code>vars(coluna)</code>. Ou seja, indicamos que queremos quebrar os gráficos pela variável <code>cut</code>.</p>
<p>O ggplot2 determinou automaticamente o número de colunas e linhas e fixou as escalas dos eixos. No entanto, podemos definir o número de linhas ou colunas a partir dos argumentos <code>nrow</code> e <code>ncol</code>. Também é possível definir-se que cada gráfico tenha sua escala. No exemplo abaixo, deixaremos a escala do eixo y livre.</p>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb508-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb508-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb508-3" data-line-number="3"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(cut), <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-31-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Já o uso do <code>facet_grid()</code> é indicado para o cruzamento de variáveis. No exemplo abaixo, a relação entre as variáveis <code>price</code> e <code>carat</code> será “quebrada” para grupos formados pelas variáveis <code>cut</code> e <code>clarity</code>:</p>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb509-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb509-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb509-3" data-line-number="3"><span class="st">  </span><span class="co"># sintaxe antiga:</span></a>
<a class="sourceLine" id="cb509-4" data-line-number="4"><span class="st">  </span><span class="co"># facet_grid(clarity ~ cut)</span></a>
<a class="sourceLine" id="cb509-5" data-line-number="5"><span class="st">  </span><span class="co"># sintaxe nova:</span></a>
<a class="sourceLine" id="cb509-6" data-line-number="6"><span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">cols =</span> <span class="kw">vars</span>(cut), <span class="dt">rows =</span> <span class="kw">vars</span>(clarity))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-32-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Note que para cada categoria existe um rótulo. Para alterar-se esse relatório, pode-se alterar diretamente o data.frame ou usar a função <code>labeller()</code>.</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb510-1" data-line-number="1">nomes_cut &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb510-2" data-line-number="2">  <span class="dt">Fair =</span> <span class="st">&quot;FAIR&quot;</span>,</a>
<a class="sourceLine" id="cb510-3" data-line-number="3">  <span class="dt">Good =</span> <span class="st">&quot;GOOD&quot;</span>,</a>
<a class="sourceLine" id="cb510-4" data-line-number="4">  <span class="st">`</span><span class="dt">Very Good</span><span class="st">`</span> =<span class="st"> &quot;VERY GOOD&quot;</span>,</a>
<a class="sourceLine" id="cb510-5" data-line-number="5">  <span class="dt">Premium =</span> <span class="st">&quot;PREMIUM&quot;</span>,</a>
<a class="sourceLine" id="cb510-6" data-line-number="6">  <span class="dt">Ideal =</span> <span class="st">&quot;IDEAL&quot;</span></a>
<a class="sourceLine" id="cb510-7" data-line-number="7">)</a>
<a class="sourceLine" id="cb510-8" data-line-number="8"></a>
<a class="sourceLine" id="cb510-9" data-line-number="9"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb510-10" data-line-number="10"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb510-11" data-line-number="11"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(cut), <span class="dt">scales =</span> <span class="st">&quot;free_y&quot;</span>,</a>
<a class="sourceLine" id="cb510-12" data-line-number="12">             <span class="dt">labeller =</span> <span class="kw">labeller</span>(<span class="dt">cut =</span> nomes_cut))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-33-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="temas" class="section level2">
<h2><span class="header-section-number">12.5</span> Temas</h2>
<p>O ggplot2 fornece alguns temas prontos. Todavia, o usuário pode alterar manualmente cada detalhe de um gráfico ou criar um tema que será utilizado em outras visualizações. Para editar o tema, será usada a função <code>theme()</code>. Nesta função, poderão ser alterados os elementos do tema, como a cor de fundo do painel, o tamanho da fonte do eixo x, a posição da legenda etc. A lista de elementos está disponível <a href="http://docs.ggplot2.org/current/theme.html">neste link</a>.</p>
<p>Para cada elemento do tema, um tipo de objeto é esperado para realizar alterações. Por exemplo, para alterar-se o estilo do título do eixo x (<code>axis.title.x</code>) é preciso passar-se a função <code>element_text()</code>, que possui diversos parâmetros (família da fonte, tipo da fonte, cor, tamanho, alinhamento etc.). Além do <code>element_text()</code>, as principais funções para alterar-se elementos do tema são <code>element_line()</code>, <code>element_rect()</code> e <code>element_blank()</code>. O <code>element_blank()</code> é usado a fim de que nada seja desenhado para o elemento que recebe esta função.</p>
<p>Em um primeiro momento, pode parecer complicado alterar o tema via código, porém, conforme o usuário for praticando, essas alterações ficarão mais intuitivas. De toda forma, existe um addin para o RStudio que ajuda a customizar-se um gráfico do ggplot2 a partir de uma interface de <em>point and click</em>. Para instalá-lo, faça o seguinte:</p>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb511-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;ggThemeAssist&#39;</span>)</a></code></pre></div>
<p>Para exemplificar a alteração do tema manualmente:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb512-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb512-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb512-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Carat vs Price&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb512-4" data-line-number="4"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>), </a>
<a class="sourceLine" id="cb512-5" data-line-number="5">        <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">&quot;gray80&quot;</span>), </a>
<a class="sourceLine" id="cb512-6" data-line-number="6">        <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">size =</span> <span class="dv">14</span>),</a>
<a class="sourceLine" id="cb512-7" data-line-number="7">        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;gray100&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-35-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="temas-disponiveis-no-ggplot2" class="section level3">
<h3><span class="header-section-number">12.5.1</span> Temas disponíveis no ggplot2</h3>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb513-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb513-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() </a>
<a class="sourceLine" id="cb513-3" data-line-number="3">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_gray</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_gray()&quot;</span>)</a>
<a class="sourceLine" id="cb513-5" data-line-number="5"></a>
<a class="sourceLine" id="cb513-6" data-line-number="6">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_bw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_bw()&quot;</span>)</a>
<a class="sourceLine" id="cb513-8" data-line-number="8"></a>
<a class="sourceLine" id="cb513-9" data-line-number="9">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_linedraw</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-10" data-line-number="10"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_linedraw()&quot;</span>)</a>
<a class="sourceLine" id="cb513-11" data-line-number="11"></a>
<a class="sourceLine" id="cb513-12" data-line-number="12">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_light</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-13" data-line-number="13"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_light()&quot;</span>)</a>
<a class="sourceLine" id="cb513-14" data-line-number="14"></a>
<a class="sourceLine" id="cb513-15" data-line-number="15">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_minimal</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-16" data-line-number="16"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_minimal()&quot;</span>)</a>
<a class="sourceLine" id="cb513-17" data-line-number="17"></a>
<a class="sourceLine" id="cb513-18" data-line-number="18">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_classic</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-19" data-line-number="19"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_classic()&quot;</span>)</a>
<a class="sourceLine" id="cb513-20" data-line-number="20"></a>
<a class="sourceLine" id="cb513-21" data-line-number="21">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_dark</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-22" data-line-number="22"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_dark()&quot;</span>)</a>
<a class="sourceLine" id="cb513-23" data-line-number="23"></a>
<a class="sourceLine" id="cb513-24" data-line-number="24">p <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb513-25" data-line-number="25"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_void()&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-37-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="temas-no-pacote-ggthemes" class="section level3">
<h3><span class="header-section-number">12.5.2</span> Temas no pacote ggthemes</h3>
<p>O pacote <a href="https://github.com/jrnold/ggthemes"><code>ggthemes</code></a> disponibiliza um conjunto de temas e escalas de cores. Vamos apresentar alguns temas disponíveis:</p>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-38-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="hrbrthemes" class="section level3">
<h3><span class="header-section-number">12.5.3</span> hrbrthemes</h3>
<p>Alguns pacotes fornecem seus próprios temas. É o caso do <code>hrbrthemes</code>. Este pacote fornece um tema bastante interessante e será usado no resto deste capítulo. Como qualquer outro tema, se for necessário, você pode editá-lo com a função <code>theme()</code>:</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb514-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;hrbrthemes&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb515-1" data-line-number="1"><span class="kw">library</span>(hrbrthemes)</a>
<a class="sourceLine" id="cb515-2" data-line-number="2"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price)) <span class="op">+</span></a>
<a class="sourceLine" id="cb515-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb515-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;theme_ipsum()&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb515-5" data-line-number="5"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb515-6" data-line-number="6">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-40-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="setando-o-tema-globalmente" class="section level3">
<h3><span class="header-section-number">12.5.4</span> Setando o tema globalmente</h3>
<p>Com o comando abaixo, todos os gráficos do seu script terão o mesmo tema:</p>
<div class="sourceCode" id="cb516"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb516-1" data-line-number="1"><span class="kw">theme_set</span>(<span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb516-2" data-line-number="2">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb516-3" data-line-number="3"><span class="st">          </span><span class="kw">theme</span>(<span class="dt">text =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">0</span>)))</a></code></pre></div>
</div>
</div>
<div id="legendas" class="section level2">
<h2><span class="header-section-number">12.6</span> Legendas</h2>
<p>Parte das alterações das legendas pode ser feita via <code>theme()</code>. Essas alterações são gerais para todas as legendas. Se o interesse for em mudanças pontuais na legenda de algum elemento estético, serão utilizadas as funções <code>guides()</code>, <code>guide_legend()</code> e <code>guide_colorbar()</code>.</p>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb517-1" data-line-number="1"><span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="kw">waiver</span>(), <span class="dt">title.position =</span> <span class="ot">NULL</span>, <span class="dt">title.theme =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb517-2" data-line-number="2">             <span class="dt">title.hjust =</span> <span class="ot">NULL</span>, <span class="dt">title.vjust =</span> <span class="ot">NULL</span>, <span class="dt">label =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb517-3" data-line-number="3">             <span class="dt">label.position =</span> <span class="ot">NULL</span>, <span class="dt">label.theme =</span> <span class="ot">NULL</span>, <span class="dt">label.hjust =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb517-4" data-line-number="4">             <span class="dt">label.vjust =</span> <span class="ot">NULL</span>, <span class="dt">keywidth =</span> <span class="ot">NULL</span>, <span class="dt">keyheight =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb517-5" data-line-number="5">             <span class="dt">direction =</span> <span class="ot">NULL</span>, <span class="dt">default.unit =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">override.aes =</span> <span class="kw">list</span>(),</a>
<a class="sourceLine" id="cb517-6" data-line-number="6">             <span class="dt">nrow =</span> <span class="ot">NULL</span>, <span class="dt">ncol =</span> <span class="ot">NULL</span>, <span class="dt">byrow =</span> <span class="ot">FALSE</span>, <span class="dt">reverse =</span> <span class="ot">FALSE</span>, <span class="dt">order =</span> <span class="dv">0</span>, ...)</a>
<a class="sourceLine" id="cb517-7" data-line-number="7"></a>
<a class="sourceLine" id="cb517-8" data-line-number="8"><span class="kw">guide_colourbar</span>(<span class="dt">title =</span> <span class="kw">waiver</span>(), <span class="dt">title.position =</span> <span class="ot">NULL</span>, <span class="dt">title.theme =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb517-9" data-line-number="9">                <span class="dt">title.hjust =</span> <span class="ot">NULL</span>, <span class="dt">title.vjust =</span> <span class="ot">NULL</span>, <span class="dt">label =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb517-10" data-line-number="10">                <span class="dt">label.position =</span> <span class="ot">NULL</span>, <span class="dt">label.theme =</span> <span class="ot">NULL</span>, <span class="dt">label.hjust =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb517-11" data-line-number="11">                <span class="dt">label.vjust =</span> <span class="ot">NULL</span>, <span class="dt">barwidth =</span> <span class="ot">NULL</span>, <span class="dt">barheight =</span> <span class="ot">NULL</span>, <span class="dt">nbin =</span> <span class="dv">20</span>,</a>
<a class="sourceLine" id="cb517-12" data-line-number="12">                <span class="dt">raster =</span> <span class="ot">TRUE</span>, <span class="dt">ticks =</span> <span class="ot">TRUE</span>, <span class="dt">draw.ulim =</span> <span class="ot">TRUE</span>, <span class="dt">draw.llim =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb517-13" data-line-number="13">                <span class="dt">direction =</span> <span class="ot">NULL</span>, <span class="dt">default.unit =</span> <span class="st">&quot;line&quot;</span>, <span class="dt">reverse =</span> <span class="ot">FALSE</span>, <span class="dt">order =</span> <span class="dv">0</span>, ...)</a></code></pre></div>
<p>O código abaixo exemplifica o uso do <code>guide_legend()</code>:</p>
<div class="sourceCode" id="cb518"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb518-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price, <span class="dt">color =</span> cut, <span class="dt">shape =</span> cut)) <span class="op">+</span></a>
<a class="sourceLine" id="cb518-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb518-3" data-line-number="3"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;Cor&quot;</span>, <span class="dt">title.position =</span> <span class="st">&quot;left&quot;</span>, <span class="dt">keywidth =</span> <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb518-4" data-line-number="4">         <span class="dt">shape =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;Forma&quot;</span>, <span class="dt">title.position =</span> <span class="st">&quot;right&quot;</span>, <span class="dt">override.aes =</span> <span class="kw">aes</span>(<span class="dt">size =</span> <span class="dv">5</span>)))</a></code></pre></div>
<pre><code>## Warning: Using shapes for an ordinal variable is not advised</code></pre>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-43-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Pode-se fazer uso do “none” para omitir-se a legenda de um elemento estético:</p>
<div class="sourceCode" id="cb520"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb520-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> carat, <span class="dt">y =</span> price, <span class="dt">color =</span> cut, <span class="dt">shape =</span> cut)) <span class="op">+</span></a>
<a class="sourceLine" id="cb520-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb520-3" data-line-number="3"><span class="st">  </span><span class="kw">guides</span>(<span class="dt">color =</span> <span class="kw">guide_legend</span>(<span class="dt">title =</span> <span class="st">&quot;Cor&quot;</span>, <span class="dt">title.position =</span> <span class="st">&quot;left&quot;</span>, <span class="dt">keywidth =</span> <span class="dv">5</span>),</a>
<a class="sourceLine" id="cb520-4" data-line-number="4">         <span class="dt">shape =</span> <span class="st">&quot;none&quot;</span>)</a></code></pre></div>
<pre><code>## Warning: Using shapes for an ordinal variable is not advised</code></pre>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-44-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="escolhendo-o-tipo-de-grafico" class="section level2">
<h2><span class="header-section-number">12.7</span> Escolhendo o tipo de gráfico</h2>
<p>Antes de decidir qual gráfico você utilizará, é preciso saber o que se deseja representar. O objetivo guiará o tipo de gráfico mais adequado. A imagem abaixo apresenta uma lista bastante completa de possibilidades de gráficos, dos mais simples aos mais complexos:</p>
<p><img src="images/tipo_graficos.png" /></p>
<p>Entre <a href="https://camo.githubusercontent.com/ea2e9eda9b01fafc1213f5c400aa357584f40df8/687474703a2f2f626c6f672e76697375616c2e6c792f77702d636f6e74656e742f75706c6f6164732f323031342f30392f696d6167652d362e706e67">neste link</a> para visualizar a imagem com zoom.</p>
<p>Os gráficos mais tradicionais podem ser facilmente criados a partir da lógica de camadas do ggplot2 e dos objetos geométricos disponíveis no pacote. Para gráficos mais complexos, alguns pacotes estão disponíveis. Por exemplo, para a criação de treemaps, existe o pacote <code>treemapify</code>.</p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb522-1" data-line-number="1"><span class="kw">library</span>(treemapify)</a>
<a class="sourceLine" id="cb522-2" data-line-number="2"></a>
<a class="sourceLine" id="cb522-3" data-line-number="3"><span class="kw">ggplot</span>(G20, <span class="kw">aes</span>(<span class="dt">area =</span> gdp_mil_usd, <span class="dt">fill =</span> hdi, <span class="dt">label =</span> country)) <span class="op">+</span></a>
<a class="sourceLine" id="cb522-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_treemap</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb522-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_treemap_text</span>(<span class="dt">fontface =</span> <span class="st">&quot;italic&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">place =</span> <span class="st">&quot;centre&quot;</span>,</a>
<a class="sourceLine" id="cb522-6" data-line-number="6">                    <span class="dt">grow =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb522-7" data-line-number="7"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&#39;bottom&#39;</span>)</a></code></pre></div>
<p><img src="images/treemapify.png" /></p>
</div>
<div id="grafico-de-dispersao-geom_point" class="section level2">
<h2><span class="header-section-number">12.8</span> Gráfico de Dispersão (<code>geom_point()</code>)</h2>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb523-1" data-line-number="1"><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb523-2" data-line-number="2">           ..., <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>O gráfico de dispersão é bastante usado para verificar-se relações entre duas variáveis quantitativas. Para exemplificar, utilizaremos a base disponível no pacote <code>gapminder</code>. Nesta base, existe uma variável de expectativa de vida e outra de renda per capita.</p>
<p>Como queremos um gráfico de pontos, o objeto geométrico natural é o <code>geom_point()</code>. Esse objeto geométrico tem os seguintes elementos estéticos:</p>
<p>Os parâmetros estéticos (aes) são:</p>
<ul>
<li><strong><code>x</code></strong></li>
<li><strong><code>y</code></strong></li>
<li><code>alpha</code></li>
<li><code>colour</code></li>
<li><code>fill</code></li>
<li><code>shape</code></li>
<li><code>size</code></li>
<li><code>stroke</code></li>
</ul>
<p>Vamos verificar qual é a relação entre essas duas variáveis:</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb524-1" data-line-number="1"><span class="kw">library</span>(hrbrthemes)</a>
<a class="sourceLine" id="cb524-2" data-line-number="2"><span class="kw">library</span>(gapminder)</a>
<a class="sourceLine" id="cb524-3" data-line-number="3">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb524-4" data-line-number="4"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb524-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb524-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb524-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relação entre Renda per Capita e Expectativa de Vida - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb524-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;Renda per Capita&quot;</span>,</a>
<a class="sourceLine" id="cb524-9" data-line-number="9">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb524-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb524-11" data-line-number="11">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-47-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Note que a expectativa de vida cresce muito rápido para níveis de renda baixos, mas o incremento decresce conforme o nível de renda aumenta. Esse fato pode ser melhor representado utilizando-se uma escala logarítmica para a variável renda per capita. É assim que, usualmente, essa relação é apresentada. Para isso, poderíamos aplicar a função <code>log10()</code> na variável de renda per capita, ou utilizarmos a função <code>scale_x_log10()</code>:</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb525-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb525-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb525-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb525-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb525-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb525-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relação entre Renda per Capita e Expectativa de Vida - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb525-7" data-line-number="7">       <span class="dt">x =</span> <span class="st">&quot;Renda per Capita (escala log 10)&quot;</span>,</a>
<a class="sourceLine" id="cb525-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb525-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb525-10" data-line-number="10">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-48-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Com essa escala, valores incrementados na ordem de dez vezes serão igualmente espaçados. Nesse caso, a relação parece ser mais linear, ou seja, ao aumentarmos a renda dez vezes, espera-se que a expectativa de vida cresça a uma taxa constante.</p>
<p>Vamos mapear a variável <code>continent</code> ao elemento estético color e shape:</p>
<div class="sourceCode" id="cb526"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb526-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb526-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb526-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp, </a>
<a class="sourceLine" id="cb526-4" data-line-number="4">             <span class="dt">color =</span> continent, <span class="dt">shape =</span> continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb526-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb526-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb526-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_color_discrete</span>(<span class="st">&quot;Continente&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb526-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_shape_discrete</span>(<span class="st">&quot;Continente&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb526-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relação entre Renda per Capita e Expectativa de Vida - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb526-10" data-line-number="10">       <span class="dt">x =</span> <span class="st">&quot;Renda per Capita (escala log 10)&quot;</span>,</a>
<a class="sourceLine" id="cb526-11" data-line-number="11">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb526-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb526-13" data-line-number="13">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-49-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Automaticamente o ggplot2 criou uma escala para as cores e formatos dos pontos. O usuário pode alterar este mapeamento utilizando as funções <code>scale_*_*</code>.</p>
<p>Por fim, fica aqui a lista com os tipos de shapes:</p>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-50-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Perceba que os formatos de 21 a 24 possuem preenchimento (<code>fill</code>). Assim, no código abaixo definiremos o preenchimento, o tamanho do ponto e a espessura para aqueles formatos que possuem contornos.</p>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb527-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb527-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb527-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp, </a>
<a class="sourceLine" id="cb527-4" data-line-number="4">             <span class="dt">color =</span> continent, <span class="dt">shape =</span> continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb527-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">fill =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">stroke =</span> <span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb527-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb527-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_color_discrete</span>(<span class="st">&quot;Continente&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb527-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_shape_manual</span>(<span class="st">&quot;Continente&quot;</span>, <span class="dt">values =</span> <span class="kw">c</span>(<span class="dv">19</span>, <span class="dv">21</span>, <span class="dv">22</span>, <span class="dv">23</span>, <span class="dv">24</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb527-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relação entre Renda per Capita e Expectativa de Vida - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb527-10" data-line-number="10">       <span class="dt">x =</span> <span class="st">&quot;Renda per Capita (escala log 10)&quot;</span>,</a>
<a class="sourceLine" id="cb527-11" data-line-number="11">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-51-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="graficos-de-bolhas" class="section level2">
<h2><span class="header-section-number">12.9</span> Gráficos de Bolhas</h2>
<p>O gráfico de bolha é uma extensão natural do gráfico de pontos. Ele permite observar-se possíveis relações entre as três variáveis. Para este tipo de gráfico, são necessárias três variáveis: duas para indicarem as posições x e y e uma terceira para definir o tamanho do ponto (<code>size</code>). Vamos utilizar a variável <code>pop</code> (população):</p>
<div class="sourceCode" id="cb528"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb528-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb528-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb528-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp, </a>
<a class="sourceLine" id="cb528-4" data-line-number="4">             <span class="dt">size =</span> pop)) <span class="op">+</span></a>
<a class="sourceLine" id="cb528-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb528-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_size_continuous</span>(<span class="st">&quot;População (milhões)&quot;</span>, <span class="dt">labels =</span> <span class="cf">function</span>(x) <span class="kw">round</span>(x<span class="op">/</span><span class="fl">1e6</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb528-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_x_log10</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb528-8" data-line-number="8"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Relação entre Renda per Capita e Expectativa de Vida - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb528-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&quot;Renda per Capita (escala log 10)&quot;</span>,</a>
<a class="sourceLine" id="cb528-10" data-line-number="10">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb528-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,    </a>
<a class="sourceLine" id="cb528-12" data-line-number="12">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-52-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="graficos-de-barras" class="section level2">
<h2><span class="header-section-number">12.10</span> Gráficos de Barras</h2>
<p>Os gráficos de barras/colunas são geralmente utilizados para comparações entre categorias (variáveis qualitativas). No ggplot2 podemos usar dois objetos geométricos distintos:</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb529-1" data-line-number="1"><span class="kw">geom_bar</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;count&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, ...,</a>
<a class="sourceLine" id="cb529-2" data-line-number="2">         <span class="dt">width =</span> <span class="ot">NULL</span>, <span class="dt">binwidth =</span> <span class="ot">NULL</span>, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb529-3" data-line-number="3">         <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb529-4" data-line-number="4"></a>
<a class="sourceLine" id="cb529-5" data-line-number="5"><span class="kw">geom_col</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, ...,</a>
<a class="sourceLine" id="cb529-6" data-line-number="6">  <span class="dt">width =</span> <span class="ot">NULL</span>, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Os parâmetros estéticos (aes) são:</p>
<ul>
<li><strong><code>x</code></strong></li>
<li><code>y</code> (somente com <code>stat=identity</code>)</li>
<li><code>alpha</code></li>
<li><code>colour</code></li>
<li><code>fill</code></li>
<li><code>linetype</code></li>
<li><code>size</code></li>
</ul>
<p>Há um detalhe importante para o <code>geom_bar()</code>: o argumento <code>stat</code>. Por padrão, para este objeto geométrico, o valor de <code>stat</code> é <code>count</code>, o que significa que ele fará uma contagem dos elementos do eixo x. Essa contagem será usada no eixo <code>y</code>. Por exemplo:</p>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb530-1" data-line-number="1"><span class="kw">ggplot</span>(diamonds, <span class="kw">aes</span>(<span class="dt">x =</span> cut)) <span class="op">+</span></a>
<a class="sourceLine" id="cb530-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_bar</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb530-3" data-line-number="3"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb530-4" data-line-number="4">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-54-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Para cada valor da variável <code>cut</code>, o ggplot2 calculou o número de observações no data.frame <code>diamonds</code>.</p>
<p>Para que o <code>y</code> seja mapeado para uma variável do data.frame, é necessário definir <code>stat = identity</code>.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb531-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb531-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year),</a>
<a class="sourceLine" id="cb531-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb531-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> country, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb531-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_bar</span>(<span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb531-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país&quot;</span>,</a>
<a class="sourceLine" id="cb531-7" data-line-number="7">       <span class="dt">subtitle =</span> <span class="st">&quot;2007&quot;</span>,</a>
<a class="sourceLine" id="cb531-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb531-9" data-line-number="9">       <span class="dt">y =</span> <span class="st">&quot;Expectativa de Vida&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb531-10" data-line-number="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-55-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Usando o <code>geom_col()</code>:</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb532-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb532-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year),</a>
<a class="sourceLine" id="cb532-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb532-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> country, <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb532-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb532-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país&quot;</span>,</a>
<a class="sourceLine" id="cb532-7" data-line-number="7">       <span class="dt">subtitle =</span> <span class="st">&quot;2007&quot;</span>,</a>
<a class="sourceLine" id="cb532-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb532-9" data-line-number="9">       <span class="dt">y =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb532-10" data-line-number="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-56-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Uma pergunta recorrente é: Como ordenar as barras em ordem crescente/decrescente? Para isso, pode-se utilizar a função <code>reorder()</code> no momento do mapeamento. Fica mais claro com um exemplo:</p>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb533-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb533-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(year),</a>
<a class="sourceLine" id="cb533-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb533-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">reorder</span>(country, <span class="op">-</span>lifeExp), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb533-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb533-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país&quot;</span>,</a>
<a class="sourceLine" id="cb533-7" data-line-number="7">       <span class="dt">subtitle =</span> <span class="st">&quot;2007&quot;</span>,</a>
<a class="sourceLine" id="cb533-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb533-9" data-line-number="9">       <span class="dt">y =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb533-10" data-line-number="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>, <span class="dt">hjust =</span> <span class="dv">1</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-57-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Vamos, agora, criar um gráfico em que se compara a expectativa de vida média por continente em 1957 e 2007:</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb534-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb534-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1957</span>, <span class="dv">2007</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb534-3" data-line-number="3"><span class="st">  </span><span class="co"># Converte o ano para factor - será categoria no gráfico</span></a>
<a class="sourceLine" id="cb534-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">factor</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb534-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb534-6" data-line-number="6"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">lifeExp =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb534-7" data-line-number="7"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> lifeExp, <span class="dt">fill =</span> year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb534-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_col</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb534-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb534-10" data-line-number="10">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-58-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Para continente, o gráfico empilhou as barras. Isto se deve ao argumento <code>position = stack</code>. Para colocar as barras lado a lado, utilizamos o valor “dodge”:</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb535-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb535-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1957</span>, <span class="dv">2007</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb535-3" data-line-number="3"><span class="st">  </span><span class="co"># Converte o ano para factor - será categoria no gráfico</span></a>
<a class="sourceLine" id="cb535-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">factor</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb535-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb535-6" data-line-number="6"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">lifeExp =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb535-7" data-line-number="7"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> lifeExp, <span class="dt">fill =</span> year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb535-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb535-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por continente&quot;</span>,</a>
<a class="sourceLine" id="cb535-10" data-line-number="10">       <span class="dt">x =</span> <span class="st">&quot;Continente&quot;</span>,</a>
<a class="sourceLine" id="cb535-11" data-line-number="11">       <span class="dt">y =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb535-12" data-line-number="12">       <span class="dt">fill =</span> <span class="st">&quot;Ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb535-13" data-line-number="13"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>, </a>
<a class="sourceLine" id="cb535-14" data-line-number="14">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-59-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Também é comum representar-se as barras de forma horizontal. Para isto basta usar a função <code>coord_flip()</code>:</p>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb536-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb536-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1957</span>, <span class="dv">2007</span>)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb536-3" data-line-number="3"><span class="st">  </span><span class="co"># Converte o ano para factor - será categoria no gráfico</span></a>
<a class="sourceLine" id="cb536-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">factor</span>(year)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb536-5" data-line-number="5"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb536-6" data-line-number="6"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">lifeExp =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb536-7" data-line-number="7"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> continent, <span class="dt">y =</span> lifeExp, <span class="dt">fill =</span> year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb536-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_col</span>(<span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb536-9" data-line-number="9"><span class="st">  </span><span class="kw">coord_flip</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb536-10" data-line-number="10"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por continente&quot;</span>,</a>
<a class="sourceLine" id="cb536-11" data-line-number="11">       <span class="dt">x =</span> <span class="st">&quot;Continente&quot;</span>,</a>
<a class="sourceLine" id="cb536-12" data-line-number="12">       <span class="dt">y =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb536-13" data-line-number="13">       <span class="dt">fill =</span> <span class="st">&quot;Ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb536-14" data-line-number="14"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>, </a>
<a class="sourceLine" id="cb536-15" data-line-number="15">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-60-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="graficos-de-linhas" class="section level2">
<h2><span class="header-section-number">12.11</span> Gráficos de linhas</h2>
<p>Os gráficos de linhas são, geralmente, utilizados para apresentar-se a evolução de uma variável quantitativa em um intervalo de tempo.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb537-1" data-line-number="1"><span class="kw">geom_line</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb537-2" data-line-number="2">          <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>, ...)</a></code></pre></div>
<p>Os parâmetros estéticos (aes) são:</p>
<ul>
<li><strong><code>x</code></strong></li>
<li><strong><code>y</code></strong></li>
<li><code>alpha</code></li>
<li><code>colour</code></li>
<li><code>linetype</code></li>
<li><code>size</code></li>
</ul>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb538-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb538-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb538-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">lifeExp =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb538-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> lifeExp, <span class="dt">color =</span> continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb538-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb538-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Evolução da expectativa de vida por continente&quot;</span>,</a>
<a class="sourceLine" id="cb538-7" data-line-number="7">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb538-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb538-9" data-line-number="9">       <span class="dt">color =</span> <span class="st">&quot;Continente&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb538-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb538-11" data-line-number="11">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-62-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>É bastante comum que gráficos de linhas apresentem marcações para os períodos em que realmente existem os dados. Para isso, podemos adicionar uma camada de pontos:</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb539-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb539-2" data-line-number="2"><span class="st">  </span><span class="kw">group_by</span>(continent, year) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb539-3" data-line-number="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">lifeExp =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb539-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> year, <span class="dt">y =</span> lifeExp, <span class="dt">color =</span> continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb539-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb539-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">shape =</span> continent)) <span class="op">+</span></a>
<a class="sourceLine" id="cb539-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Evolução da expectativa de vida por continente&quot;</span>,</a>
<a class="sourceLine" id="cb539-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb539-9" data-line-number="9">       <span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb539-10" data-line-number="10">       <span class="dt">color =</span> <span class="st">&quot;Continente&quot;</span>,</a>
<a class="sourceLine" id="cb539-11" data-line-number="11">       <span class="dt">shape =</span> <span class="st">&quot;Continente&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb539-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,    </a>
<a class="sourceLine" id="cb539-13" data-line-number="13">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-63-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="histogramas-e-freqpoly" class="section level2">
<h2><span class="header-section-number">12.12</span> Histogramas e freqpoly</h2>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb540-1" data-line-number="1"><span class="kw">geom_freqpoly</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;bin&quot;</span>,</a>
<a class="sourceLine" id="cb540-2" data-line-number="2">  <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>, ..., <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb540-3" data-line-number="3">  <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb540-4" data-line-number="4"></a>
<a class="sourceLine" id="cb540-5" data-line-number="5"><span class="kw">geom_histogram</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;bin&quot;</span>,</a>
<a class="sourceLine" id="cb540-6" data-line-number="6">  <span class="dt">position =</span> <span class="st">&quot;stack&quot;</span>, ..., <span class="dt">binwidth =</span> <span class="ot">NULL</span>, <span class="dt">bins =</span> <span class="ot">NULL</span>, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb540-7" data-line-number="7">  <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Os histogramas são utilizados para representar-se a distribuição de dados de uma variável quantitativa em intervalos contínuos. Esses intervalos são chamados de <code>bins</code>. Para cada bin, será apresentada a quantidade de valores que estão naquele intervalo. A diferença para o <code>geom_freqpoly</code> é que este utiliza linhas para construir polígonos, enquanto o <code>geom_histogram</code> utiliza barras.</p>
<p>Conforme a documentação do ggplot2, o <code>geom_histogram()</code> utiliza os mesmos elementos estéticos do <code>geom_bar()</code>. Já o <code>geom_freqpoly()</code> utiliza os mesmo do <code>geom_line()</code>.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb541-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb541-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb541-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb541-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">5</span>, <span class="dt">fill =</span> <span class="st">&#39;dodgerblue&#39;</span>, <span class="dt">color =</span> <span class="st">&#39;black&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb541-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa vida&quot;</span>,</a>
<a class="sourceLine" id="cb541-6" data-line-number="6">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb541-7" data-line-number="7">       <span class="dt">y =</span> <span class="st">&quot;Contagem&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb541-8" data-line-number="8"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb541-9" data-line-number="9">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-65-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb542-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb542-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb542-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb542-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_freqpoly</span>(<span class="dt">binwidth =</span> <span class="dv">5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb542-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa vida&quot;</span>,</a>
<a class="sourceLine" id="cb542-6" data-line-number="6">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb542-7" data-line-number="7">       <span class="dt">y =</span> <span class="st">&quot;Contagem&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb542-8" data-line-number="8"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,     </a>
<a class="sourceLine" id="cb542-9" data-line-number="9">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-66-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Transformando em proporção:</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb543-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb543-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb543-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb543-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">y =</span> ..count..<span class="op">/</span><span class="kw">sum</span>(..count..)),<span class="dt">binwidth =</span> <span class="dv">5</span>, <span class="dt">fill =</span> <span class="st">&#39;dodgerblue&#39;</span>, <span class="dt">color =</span> <span class="st">&#39;black&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb543-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa vida&quot;</span>,</a>
<a class="sourceLine" id="cb543-6" data-line-number="6">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb543-7" data-line-number="7">       <span class="dt">y =</span> <span class="st">&quot;Proporção&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb543-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">labels =</span> scales<span class="op">::</span><span class="kw">percent_format</span>()) <span class="op">+</span></a>
<a class="sourceLine" id="cb543-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb543-10" data-line-number="10">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-67-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>O ggplot2, internamente, criou a variável <code>..count..</code>. Dessa forma, podemos utilizá-la para criar as proporções.</p>
</div>
<div id="boxplots-jitterplots-e-violinplots" class="section level2">
<h2><span class="header-section-number">12.13</span> Boxplots, jitterplots e violinplots</h2>
<p>O boxplot é uma representação comum para apresentar-se a distribuição de uma variável a partir de seus quantis. A imagem abaixo detalha como um boxplot é formado.</p>
<div class="figure">
<img src="images/boxplot.png" alt="Detalhes sobre o bloxplot" />
<p class="caption">Detalhes sobre o bloxplot</p>
</div>
<p>O boxplot também pode ser usado para verificar-se a distribuição de variável para um conjunto de valores de uma segunda variável. Por exemplo: qual é a distribuição da expectativa de vida por ano?</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb544-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb544-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb544-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb544-4" data-line-number="4">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb544-5" data-line-number="5">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb544-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb544-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-68-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Vemos que existe um possível outlier em 1992. Quando falarmos sobre anotações, voltaremos a este gráfico.</p>
<p>Para termos uma visão da distribuição geral dos valores por ano, podemos utilizar o <code>geom_violin()</code>. O violinplot baseia-se na densidade de probabilidade de uma variável contínua. Assim, é possível verificar-se em quais intervalos existe uma maior chance de ocorrência. Isto é representado pela parte mais larga do objeto.</p>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb545-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb545-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_violin</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb545-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb545-4" data-line-number="4">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb545-5" data-line-number="5">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb545-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,  </a>
<a class="sourceLine" id="cb545-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-69-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>O jitterplot é utilizado para evitar-se o problema do overplotting em um gráfico. Note, no gráfico abaixo, que não sabemos se a marcação de um ponto representa uma única observação ou várias.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb546-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb546-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb546-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb546-4" data-line-number="4">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb546-5" data-line-number="5">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb546-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>, </a>
<a class="sourceLine" id="cb546-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-70-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Para observarmos a real distribuição, é necessário adicionar-se um pouco de ruído, a fim de que os pontos se afastem um pouco:</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb547-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb547-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_jitter</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb547-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb547-4" data-line-number="4">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb547-5" data-line-number="5">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb547-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,      </a>
<a class="sourceLine" id="cb547-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-71-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="anotacoes" class="section level2">
<h2><span class="header-section-number">12.14</span> Anotações</h2>
<p>Para criarmos anotações no ggplot2, podemos utilizar a função <code>annotate()</code>.</p>
<p>Primeiro, vamos manipular os dados para saber qual é aquele ponto:</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb548-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb548-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">1992</span>, lifeExp <span class="op">==</span><span class="st"> </span><span class="kw">min</span>(lifeExp))</a></code></pre></div>
<pre><code>## # A tibble: 1 x 6
##   country continent  year lifeExp     pop gdpPercap
##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
## 1 Rwanda  Africa     1992    23.6 7290203      737.</code></pre>
<p>Com essas informações, podemos adicionar uma anotação ao gráfico:</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb550-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-3" data-line-number="3"><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;1992&quot;</span>, <span class="dt">y =</span> <span class="dv">27</span>, <span class="dt">label =</span> <span class="st">&quot;Ruanda&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb550-5" data-line-number="5">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb550-6" data-line-number="6">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb550-7" data-line-number="7"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>, </a>
<a class="sourceLine" id="cb550-8" data-line-number="8">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-73-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Também podemos adicionar segmentos e retângulos com o <code>annotate()</code>. Vamos marcar o período de 1982 a 2002 com um retângulo:</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb551-1" data-line-number="1"><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> <span class="kw">factor</span>(year), <span class="dt">y =</span> lifeExp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-2" data-line-number="2"><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="dt">x =</span> <span class="st">&quot;1992&quot;</span>, <span class="dt">y =</span> <span class="dv">27</span>, <span class="dt">label =</span> <span class="st">&quot;Ruanda&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-3" data-line-number="3"><span class="st">  </span><span class="kw">annotate</span>(<span class="st">&quot;rect&quot;</span>, <span class="dt">xmin =</span> <span class="st">&quot;1982&quot;</span>, <span class="dt">ymin =</span> <span class="dv">20</span>,</a>
<a class="sourceLine" id="cb551-4" data-line-number="4">           <span class="dt">xmax =</span> <span class="st">&quot;2002&quot;</span>, <span class="dt">ymax =</span> <span class="dv">95</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="dt">fill =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">y =</span> <span class="st">&quot;Anos de vida&quot;</span>,</a>
<a class="sourceLine" id="cb551-7" data-line-number="7">       <span class="dt">x =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb551-8" data-line-number="8">       <span class="dt">title =</span> <span class="st">&quot;Distribuição da expectativa de vida por ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb551-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,      </a>
<a class="sourceLine" id="cb551-10" data-line-number="10">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-74-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="cleveland-dot-plot" class="section level2">
<h2><span class="header-section-number">12.15</span> Cleveland Dot Plot</h2>
<p>O cleveland dot plot é uma visualização que pode substituir os gráficos de barras. A ideia é que o gráfico fica menos poluído com os pontos, fazendo com que o leitor foque no que é importante. Vamos criar um gráfico para comparar as expectativas de vida no ano de 2007 para os países das Américas:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb552-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb552-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>,</a>
<a class="sourceLine" id="cb552-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb552-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">reorder</span>(country, lifeExp))) <span class="op">+</span></a>
<a class="sourceLine" id="cb552-5" data-line-number="5"><span class="st">   </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb552-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb552-7" data-line-number="7">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb552-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb552-9" data-line-number="9"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb552-10" data-line-number="10">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb552-11" data-line-number="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-75-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Esse tipo de gráfico também pode apresentar mais de um ponto para cada valor da variável categórica (país):</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb553-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>, <span class="dv">2007</span>),</a>
<a class="sourceLine" id="cb553-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> country, <span class="dt">color =</span> <span class="kw">factor</span>(year))) <span class="op">+</span></a>
<a class="sourceLine" id="cb553-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> <span class="kw">factor</span>(year))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb553-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 1987 e 2007&quot;</span>,</a>
<a class="sourceLine" id="cb553-7" data-line-number="7">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb553-8" data-line-number="8">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb553-9" data-line-number="9">       <span class="dt">color =</span> <span class="st">&quot;Ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb553-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb553-11" data-line-number="11">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb553-12" data-line-number="12"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-76-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>No gráfico acima, vemos dois pontos para cada país, um para representar 1987 e outro para 2007.</p>
<p>Para completarmos o gráfico, precisamos adicionar uma linha conectando esses dois pontos. Esse gráfico é chamado de <em>connected dot plot</em>. Um detalhe importante é que queremos criar uma linha por país, assim, usaremos o elemento estético <code>group</code> para obter o resultado esperado:</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb554-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb554-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>, <span class="dv">2007</span>),</a>
<a class="sourceLine" id="cb554-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb554-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> country)) <span class="op">+</span></a>
<a class="sourceLine" id="cb554-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> country)) <span class="op">+</span></a>
<a class="sourceLine" id="cb554-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> <span class="kw">factor</span>(year))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb554-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 1987 e 2007&quot;</span>,</a>
<a class="sourceLine" id="cb554-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb554-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb554-10" data-line-number="10">       <span class="dt">color =</span> <span class="st">&quot;Ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb554-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb554-12" data-line-number="12">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb554-13" data-line-number="13"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-77-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Para finalizar, vamos ordenar o eixo <code>y</code> pela expectativa de vida:</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb555-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb555-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>, <span class="dv">2007</span>),</a>
<a class="sourceLine" id="cb555-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb555-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">reorder</span>(country, lifeExp, max))) <span class="op">+</span></a>
<a class="sourceLine" id="cb555-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">group =</span> country), <span class="dt">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb555-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">color =</span> <span class="kw">factor</span>(year))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb555-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 1987 e 2007&quot;</span>,</a>
<a class="sourceLine" id="cb555-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb555-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>,</a>
<a class="sourceLine" id="cb555-10" data-line-number="10">       <span class="dt">color =</span> <span class="st">&quot;Ano&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb555-11" data-line-number="11"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,</a>
<a class="sourceLine" id="cb555-12" data-line-number="12">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)  <span class="op">+</span></a>
<a class="sourceLine" id="cb555-13" data-line-number="13"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-78-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="textosrotulos" class="section level2">
<h2><span class="header-section-number">12.16</span> Textos/Rótulos</h2>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb556-1" data-line-number="1"><span class="kw">geom_label</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb556-2" data-line-number="2">           ..., <span class="dt">parse =</span> <span class="ot">FALSE</span>, <span class="dt">nudge_x =</span> <span class="dv">0</span>, <span class="dt">nudge_y =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb556-3" data-line-number="3">           <span class="dt">label.padding =</span> <span class="kw">unit</span>(<span class="fl">0.25</span>, <span class="st">&quot;lines&quot;</span>), <span class="dt">label.r =</span> <span class="kw">unit</span>(<span class="fl">0.15</span>, <span class="st">&quot;lines&quot;</span>),</a>
<a class="sourceLine" id="cb556-4" data-line-number="4">           <span class="dt">label.size =</span> <span class="fl">0.25</span>, <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb556-5" data-line-number="5"></a>
<a class="sourceLine" id="cb556-6" data-line-number="6"><span class="kw">geom_text</span>(<span class="dt">mapping =</span> <span class="ot">NULL</span>, <span class="dt">data =</span> <span class="ot">NULL</span>, <span class="dt">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="dt">position =</span> <span class="st">&quot;identity&quot;</span>,</a>
<a class="sourceLine" id="cb556-7" data-line-number="7">          ..., <span class="dt">parse =</span> <span class="ot">FALSE</span>, <span class="dt">nudge_x =</span> <span class="dv">0</span>, <span class="dt">nudge_y =</span> <span class="dv">0</span>, <span class="dt">check_overlap =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb556-8" data-line-number="8">          <span class="dt">na.rm =</span> <span class="ot">FALSE</span>, <span class="dt">show.legend =</span> <span class="ot">NA</span>, <span class="dt">inherit.aes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Os parâmetros estéticos (<code>aes</code>) são:</p>
<ul>
<li><strong><code>label</code></strong></li>
<li><strong><code>x</code></strong></li>
<li><strong><code>y</code></strong></li>
<li><code>alpha</code></li>
<li><code>angle</code></li>
<li><code>colour</code></li>
<li><code>family</code></li>
<li><code>fontface</code></li>
<li><code>hjust</code></li>
<li><code>lineheight</code></li>
<li><code>size</code></li>
<li><code>vjust</code></li>
</ul>
<p>Para adicionar textos ou rótulos, utilizamos, respectivamente, o <code>geom_text()</code> e o <code>geom_label()</code>, que se diferenciam na formatação. Isto ficará mais claro nos exemplos a seguir:</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb557-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb557-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>,</a>
<a class="sourceLine" id="cb557-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb557-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">reorder</span>(country, lifeExp))) <span class="op">+</span></a>
<a class="sourceLine" id="cb557-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_segment</span>(<span class="dt">x =</span> <span class="dv">0</span>, <span class="kw">aes</span>(<span class="dt">xend =</span> lifeExp, <span class="dt">yend =</span> country),</a>
<a class="sourceLine" id="cb557-6" data-line-number="6">               <span class="dt">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb557-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb557-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">round</span>(lifeExp))) <span class="op">+</span></a>
<a class="sourceLine" id="cb557-9" data-line-number="9"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb557-10" data-line-number="10">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb557-11" data-line-number="11">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb557-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb557-13" data-line-number="13">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-80-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>O resultado ficou bem ruim. O texto foi inserido exatamente na posição <code>(x, y)</code>. Para alterar a posição, podemos usar os argumentos <code>hjust</code>, <code>vjust</code>, <code>nudge_x</code> e <code>nudge_y</code>. O <code>hjust</code> e <code>vjust</code> podem assumir valor entre 0 (direita/embaixo) e 1(esquerda/em cima) ou “left”, “middle”, “right”, “bottom”, “center” e “top”, além de “inward” e “outward”.</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb558-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb558-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>,</a>
<a class="sourceLine" id="cb558-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb558-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">reorder</span>(country, lifeExp))) <span class="op">+</span></a>
<a class="sourceLine" id="cb558-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb558-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">round</span>(lifeExp)), <span class="dt">nudge_x =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb558-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb558-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb558-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb558-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,   </a>
<a class="sourceLine" id="cb558-11" data-line-number="11">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)  <span class="op">+</span></a>
<a class="sourceLine" id="cb558-12" data-line-number="12"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-81-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb559-1" data-line-number="1">gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb559-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>,</a>
<a class="sourceLine" id="cb559-3" data-line-number="3">         continent <span class="op">==</span><span class="st"> &quot;Americas&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb559-4" data-line-number="4"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lifeExp, <span class="dt">y =</span> <span class="kw">reorder</span>(country, lifeExp))) <span class="op">+</span></a>
<a class="sourceLine" id="cb559-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color =</span> <span class="st">&quot;dodgerblue&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb559-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_label</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">round</span>(lifeExp)), <span class="dt">nudge_x =</span> <span class="dv">1</span>, <span class="dt">size =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb559-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Expectativa de vida por país - 2007&quot;</span>,</a>
<a class="sourceLine" id="cb559-8" data-line-number="8">       <span class="dt">y =</span> <span class="st">&quot;País&quot;</span>,</a>
<a class="sourceLine" id="cb559-9" data-line-number="9">       <span class="dt">x =</span> <span class="st">&quot;Anos&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb559-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,  </a>
<a class="sourceLine" id="cb559-11" data-line-number="11">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)  <span class="op">+</span></a>
<a class="sourceLine" id="cb559-12" data-line-number="12"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">panel.grid.major.y =</span> <span class="kw">element_line</span>(<span class="dt">linetype =</span> <span class="st">&quot;dashed&quot;</span>))</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-82-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="plotando-funcoes" class="section level2">
<h2><span class="header-section-number">12.17</span> Plotando funções</h2>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb560-1" data-line-number="1">reta &lt;-<span class="st"> </span><span class="cf">function</span>(a, b, x){</a>
<a class="sourceLine" id="cb560-2" data-line-number="2">  a <span class="op">+</span><span class="st"> </span>b <span class="op">*</span><span class="st"> </span>x</a>
<a class="sourceLine" id="cb560-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb560-4" data-line-number="4">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dt">by =</span> <span class="fl">0.1</span>))</a>
<a class="sourceLine" id="cb560-5" data-line-number="5"><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span></a>
<a class="sourceLine" id="cb560-6" data-line-number="6"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> reta, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb560-7" data-line-number="7"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> reta, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">3</span>), <span class="dt">col =</span> <span class="st">&#39;red&#39;</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-83-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb561-1" data-line-number="1">sigmoid &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">a =</span> <span class="dv">1</span>,z){</a>
<a class="sourceLine" id="cb561-2" data-line-number="2">  <span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="kw">exp</span>(<span class="op">-</span>a <span class="op">*</span><span class="st"> </span>z))</a>
<a class="sourceLine" id="cb561-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb561-4" data-line-number="4"></a>
<a class="sourceLine" id="cb561-5" data-line-number="5">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">-6</span><span class="op">:</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb561-6" data-line-number="6"><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span></a>
<a class="sourceLine" id="cb561-7" data-line-number="7"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> sigmoid, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb561-8" data-line-number="8"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> sigmoid, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="fl">0.5</span>), <span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb561-9" data-line-number="9"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> sigmoid, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">2</span>), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-84-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb562-1" data-line-number="1">logit &lt;-<span class="st"> </span><span class="cf">function</span>(a, z){</a>
<a class="sourceLine" id="cb562-2" data-line-number="2">  <span class="kw">log</span>(<span class="kw">sigmoid</span>(a, z)<span class="op">/</span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="kw">sigmoid</span>(a, z)))</a>
<a class="sourceLine" id="cb562-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb562-4" data-line-number="4"></a>
<a class="sourceLine" id="cb562-5" data-line-number="5">data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="dv">-6</span><span class="op">:</span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb562-6" data-line-number="6"><span class="kw">ggplot</span>(data, <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span></a>
<a class="sourceLine" id="cb562-7" data-line-number="7"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> logit, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>), <span class="kw">aes</span>(<span class="dt">color =</span> <span class="st">&quot;a = 1&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb562-8" data-line-number="8"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> logit, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="fl">0.5</span>), <span class="kw">aes</span>(<span class="dt">color =</span> <span class="st">&quot;a = 0.5&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb562-9" data-line-number="9"><span class="st">  </span><span class="kw">stat_function</span>(<span class="dt">fun =</span> logit, <span class="dt">args =</span> <span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">2</span>), <span class="kw">aes</span>(<span class="dt">color =</span> <span class="st">&quot;a = 2&quot;</span>)) </a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-85-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="mapas" class="section level2">
<h2><span class="header-section-number">12.18</span> Mapas</h2>
<p>No primeiro exemplo, usaremos um arquivo de dados que já possui as informações necessárias para criarmos o mapa. No segundo, será mostrado o processo a partir de um shapefile (*.shp), que é um formato utilizado para o armazenamento de dados geoespaciais.</p>
<p>Os dados para a criação do mapa estão disponíveis no arquivo <code>world_map.csv</code>. Neste arquivo existem 177 regiões e, onde possível, estas estão correlacionadas com o nome disponível na base do MDIC.</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb563-1" data-line-number="1"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb563-2" data-line-number="2">world_map &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&#39;dados/world_map.csv&#39;</span>, <span class="dt">delim =</span> <span class="st">&quot;;&quot;</span>,</a>
<a class="sourceLine" id="cb563-3" data-line-number="3">                        <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&quot;ISO-8859-1&quot;</span>,</a>
<a class="sourceLine" id="cb563-4" data-line-number="4">                                        <span class="dt">decimal_mark =</span> <span class="st">&quot;,&quot;</span>))</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   long = col_double(),
##   lat = col_double(),
##   order = col_double(),
##   hole = col_logical(),
##   piece = col_double(),
##   id = col_character(),
##   group = col_character(),
##   NO_PAIS_POR = col_character()
## )</code></pre>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb565-1" data-line-number="1"><span class="kw">head</span>(world_map)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 8
##    long   lat order hole  piece id          group         NO_PAIS_POR
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;         &lt;chr&gt;      
## 1  61.2  35.7     1 FALSE     1 Afghanistan Afghanistan.1 Afeganistão
## 2  62.2  35.3     2 FALSE     1 Afghanistan Afghanistan.1 Afeganistão
## 3  63.0  35.4     3 FALSE     1 Afghanistan Afghanistan.1 Afeganistão
## 4  63.2  35.9     4 FALSE     1 Afghanistan Afghanistan.1 Afeganistão
## 5  64.0  36.0     5 FALSE     1 Afghanistan Afghanistan.1 Afeganistão
## 6  64.5  36.3     6 FALSE     1 Afghanistan Afghanistan.1 Afeganistão</code></pre>
<p>As colunas long e lat serão mapeadas para os eixos x e y e será utilizado o objeto geométrico polígono (<code>geom_polygon()</code>). A coluna group será utilizada para que seja criado um polígono para cada região, evitando sobreposições das linhas.</p>
<p>Para a criação do gráfico, removeremos a região <code>Antarctica</code> e realizaremos um <code>left_join()</code> com os dados de exportações por país de destino no ano de 2015, disponível no arquivo <code>EXP_2015_PAIS.txt</code>. Também criaremos classes para os valores exportados.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb567-1" data-line-number="1"><span class="co"># Remover Antarctica</span></a>
<a class="sourceLine" id="cb567-2" data-line-number="2">world_map &lt;-<span class="st"> </span>world_map <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb567-3" data-line-number="3"><span class="st">   </span><span class="kw">filter</span>(id <span class="op">!=</span><span class="st"> &quot;Antarctica&quot;</span>)</a>
<a class="sourceLine" id="cb567-4" data-line-number="4"></a>
<a class="sourceLine" id="cb567-5" data-line-number="5">exp<span class="fl">.2015</span> &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&#39;dados/EXP_2015_PAIS.csv&#39;</span>, <span class="dt">delim =</span> <span class="st">&quot;;&quot;</span>,</a>
<a class="sourceLine" id="cb567-6" data-line-number="6">                       <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&quot;ISO-8859-1&quot;</span>),</a>
<a class="sourceLine" id="cb567-7" data-line-number="7">                       <span class="dt">col_types =</span> <span class="st">&#39;ccd&#39;</span>)</a>
<a class="sourceLine" id="cb567-8" data-line-number="8"></a>
<a class="sourceLine" id="cb567-9" data-line-number="9">world_map &lt;-<span class="st"> </span><span class="kw">left_join</span>(world_map, exp<span class="fl">.2015</span>, <span class="dt">by =</span> <span class="st">&quot;NO_PAIS_POR&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb567-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">class =</span> <span class="kw">cut</span>(VL_FOB, <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="fl">1e6</span>, <span class="fl">10e6</span>, <span class="fl">100e6</span>, <span class="fl">1e9</span>, <span class="fl">10e9</span>, <span class="ot">Inf</span>)))</a></code></pre></div>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb568-1" data-line-number="1"><span class="kw">ggplot</span>(world_map, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group)) <span class="op">+</span></a>
<a class="sourceLine" id="cb568-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> class), <span class="dt">col =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">size =</span> <span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb568-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_fill_brewer</span>(<span class="dt">palette =</span> <span class="st">&quot;Reds&quot;</span>, <span class="dt">breaks =</span> <span class="kw">levels</span>(world_map<span class="op">$</span>class),</a>
<a class="sourceLine" id="cb568-4" data-line-number="4">                    <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;(0, 1 Mi]&quot;</span>, <span class="st">&quot;(1 Mi, 10 Mi]&quot;</span>, <span class="st">&quot;(10 Mi, 100 Mi]&quot;</span>,</a>
<a class="sourceLine" id="cb568-5" data-line-number="5">                               <span class="st">&quot;(100 Mi, 1 Bi]&quot;</span>, <span class="st">&quot;(1 Bi, 10 Bi]&quot;</span>, <span class="st">&quot;&gt; 10 Bi&quot;</span>),</a>
<a class="sourceLine" id="cb568-6" data-line-number="6">                    <span class="dt">na.value =</span> <span class="st">&#39;grey70&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb568-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Exportações Brasileiras - 2015&quot;</span>,</a>
<a class="sourceLine" id="cb568-8" data-line-number="8">       <span class="dt">subtitle =</span> <span class="st">&#39;Valor FOB&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb568-9" data-line-number="9"><span class="st">  </span><span class="kw">coord_quickmap</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb568-10" data-line-number="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb568-11" data-line-number="11">        <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb568-12" data-line-number="12">        <span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb568-13" data-line-number="13">        <span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-88-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Como dito, o segundo exemplo será realizado a partir de arquivos do tipo shapefile. O Instituto Brasileiro de Geografia e Estatística (IBGE) disponibiliza shapefiles para o Brasil em diferentes níveis, unidades federativas, municípios, mesorregiões e microrregiões. Os arquivos estão disponíveis <a href="ftp://geoftp.ibge.gov.br/organizacao_do_territorio/malhas_territoriais/malhas_municipais/municipio_2015/">neste link</a>.</p>
<p>Para a leitura do shapefile, serão necessários alguns pacotes: <code>rgdal</code>, <code>maptools</code>, <code>rgeos</code> e <code>broom</code>. A função <code>ogrListLayers()</code> lista as camadas disponíveis em um shapefile. Para ler-se o arquivo para o R, utiliza-se a função: <code>readOGR()</code>. Após ler-se o shapefile para o R, é preciso transformá-lo para um formato em que o ggplot2 possa gerar a visualização. A função <code>tidy()</code> realiza essa tarefa. Essa função também transforma objetos de outras classes para data.frames.</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb569-1" data-line-number="1"><span class="kw">library</span>(rgdal)</a>
<a class="sourceLine" id="cb569-2" data-line-number="2"><span class="kw">library</span>(maptools)</a>
<a class="sourceLine" id="cb569-3" data-line-number="3"><span class="kw">library</span>(rgeos)</a>
<a class="sourceLine" id="cb569-4" data-line-number="4"><span class="kw">library</span>(broom)</a>
<a class="sourceLine" id="cb569-5" data-line-number="5"></a>
<a class="sourceLine" id="cb569-6" data-line-number="6"><span class="kw">ogrListLayers</span>(<span class="st">&#39;dados/mapas/mg_municipios/31MUE250GC_SIR.shp&#39;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;31MUE250GC_SIR&quot;
## attr(,&quot;driver&quot;)
## [1] &quot;ESRI Shapefile&quot;
## attr(,&quot;nlayers&quot;)
## [1] 1</code></pre>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb571-1" data-line-number="1">mg_mapa &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="st">&#39;dados/mapas/mg_municipios/31MUE250GC_SIR.shp&#39;</span>,</a>
<a class="sourceLine" id="cb571-2" data-line-number="2">                   <span class="dt">layer =</span> <span class="st">&#39;31MUE250GC_SIR&#39;</span>)</a></code></pre></div>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;/home/sillas/R/Projetos/IBPAD/livro_cdr/livro_intro_r/dados/mapas/mg_municipios/31MUE250GC_SIR.shp&quot;, layer: &quot;31MUE250GC_SIR&quot;
## with 853 features
## It has 2 fields</code></pre>
<p>Os arquivos shapefile também fornecem dados sobre as regiões, disponíveis no arquivo. No caso do exemplo acima, são fornecidos o código e o nome do município.</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb573-1" data-line-number="1">mg_mapa_data &lt;-<span class="st"> </span><span class="kw">data.frame</span>(mg_mapa)</a>
<a class="sourceLine" id="cb573-2" data-line-number="2"></a>
<a class="sourceLine" id="cb573-3" data-line-number="3"><span class="kw">head</span>(mg_mapa_data)</a></code></pre></div>
<pre><code>##            NM_MUNICIP CD_GEOCMU
## 0 ABADIA DOS DOURADOS   3100104
## 1              ABAETÉ   3100203
## 2          ABRE CAMPO   3100302
## 3             ACAIACA   3100401
## 4             AÇUCENA   3100500
## 5            ÁGUA BOA   3100609</code></pre>
<p>Na criação do data.frame, com uso da função <code>fortify()</code>, é preciso informar a variável que identificará a região. No exemplo, <code>CD_GEOCMU</code>.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb575-1" data-line-number="1"><span class="co">#mg_mapa &lt;- fortify(mg_mapa, region = &quot;CD_GEOCMU&quot;)</span></a>
<a class="sourceLine" id="cb575-2" data-line-number="2">mg_mapa &lt;-<span class="st"> </span><span class="kw">tidy</span>(mg_mapa, <span class="dt">region =</span> <span class="st">&quot;CD_GEOCMU&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb578-1" data-line-number="1"><span class="co"># Para adicionar os nomes dos municípios</span></a>
<a class="sourceLine" id="cb578-2" data-line-number="2">mg_mapa &lt;-<span class="st"> </span><span class="kw">left_join</span>(mg_mapa, mg_mapa_data, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;id&quot;</span> =<span class="st"> &quot;CD_GEOCMU&quot;</span>))</a></code></pre></div>
<pre><code>## Warning: Column `id`/`CD_GEOCMU` joining character vector and factor,
## coercing into character vector</code></pre>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb580-1" data-line-number="1"><span class="kw">ggplot</span>(mg_mapa, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group)) <span class="op">+</span></a>
<a class="sourceLine" id="cb580-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">fill =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">size =</span> <span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb580-3" data-line-number="3"><span class="st">  </span><span class="kw">coord_quickmap</span>()</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-91-1.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Com o mapa pronto, faltam os dados que serão plotados.</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb581-1" data-line-number="1">REM_RAIS_MG_<span class="dv">2015</span> &lt;-<span class="st"> </span><span class="kw">read_delim</span>(<span class="st">&#39;dados/REM_RAIS_MG_2015.csv&#39;</span>,</a>
<a class="sourceLine" id="cb581-2" data-line-number="2">                               <span class="dt">delim =</span> <span class="st">&quot;;&quot;</span>, </a>
<a class="sourceLine" id="cb581-3" data-line-number="3">                               <span class="dt">col_types =</span> <span class="st">&#39;cd&#39;</span>,</a>
<a class="sourceLine" id="cb581-4" data-line-number="4">                               <span class="dt">skip =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb581-5" data-line-number="5">                               <span class="dt">col_names =</span> <span class="kw">c</span>(<span class="st">&quot;Mun.Trab&quot;</span>, <span class="st">&quot;mediana&quot;</span>),</a>
<a class="sourceLine" id="cb581-6" data-line-number="6">                               <span class="dt">locale =</span> <span class="kw">locale</span>(<span class="dt">encoding =</span> <span class="st">&#39;ISO-8859-1&#39;</span>))</a>
<a class="sourceLine" id="cb581-7" data-line-number="7"></a>
<a class="sourceLine" id="cb581-8" data-line-number="8">REM_RAIS_MG_<span class="dv">2015</span> &lt;-<span class="st"> </span>REM_RAIS_MG_<span class="dv">2015</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb581-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">mediana =</span> <span class="kw">ifelse</span>(mediana <span class="op">&gt;</span><span class="st"> </span><span class="dv">1500</span>, <span class="dv">1500</span>, mediana))</a>
<a class="sourceLine" id="cb581-10" data-line-number="10"><span class="kw">head</span>(REM_RAIS_MG_<span class="dv">2015</span>)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   Mun.Trab mediana
##   &lt;chr&gt;      &lt;dbl&gt;
## 1 315820      788 
## 2 313865      827.
## 3 311880      831 
## 4 313980      831 
## 5 312290      831 
## 6 315760      831</code></pre>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb583-1" data-line-number="1">mg_mapa &lt;-<span class="st"> </span>mg_mapa <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb583-2" data-line-number="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">Mun.Trab =</span> <span class="kw">substr</span>(id, <span class="dv">1</span>, <span class="dv">6</span>))</a>
<a class="sourceLine" id="cb583-3" data-line-number="3"></a>
<a class="sourceLine" id="cb583-4" data-line-number="4">mg_mapa &lt;-<span class="st"> </span><span class="kw">left_join</span>(mg_mapa, REM_RAIS_MG_<span class="dv">2015</span>, <span class="dt">by =</span> <span class="st">&quot;Mun.Trab&quot;</span>)</a></code></pre></div>
<p>Para criarmos a visualização:</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb584-1" data-line-number="1">cores.viridis &lt;-<span class="st"> </span>viridis<span class="op">::</span><span class="kw">viridis</span>(<span class="dt">n =</span> <span class="dv">20</span>)</a>
<a class="sourceLine" id="cb584-2" data-line-number="2"><span class="kw">ggplot</span>(mg_mapa, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group, <span class="dt">fill =</span> mediana)) <span class="op">+</span></a>
<a class="sourceLine" id="cb584-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">size =</span> <span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb584-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_fill_gradientn</span>(<span class="dt">colours =</span> cores.viridis,</a>
<a class="sourceLine" id="cb584-5" data-line-number="5">                       <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">800</span>, <span class="dv">1150</span>, <span class="dv">1500</span>),</a>
<a class="sourceLine" id="cb584-6" data-line-number="6">                       <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;\u2264 800&quot;</span>, <span class="st">&quot;1.150&quot;</span>, <span class="st">&quot;\u2265 1.500&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb584-7" data-line-number="7"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Mediana da Remuneração &quot;</span>,</a>
<a class="sourceLine" id="cb584-8" data-line-number="8">       <span class="dt">subtitle =</span> <span class="st">&quot;Minais Gerais - Dezembro/2015. Valores em R$&quot;</span>,</a>
<a class="sourceLine" id="cb584-9" data-line-number="9">       <span class="dt">caption =</span> <span class="st">&quot;Fonte: RAIS/MTE&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb584-10" data-line-number="10"><span class="st">  </span><span class="kw">coord_quickmap</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb584-11" data-line-number="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb584-12" data-line-number="12">        <span class="dt">axis.text.y =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb584-13" data-line-number="13">        <span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb584-14" data-line-number="14">        <span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>())</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-93-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div id="simplificando-o-shapefile" class="section level3">
<h3><span class="header-section-number">12.18.1</span> Simplificando o shapefile</h3>
<p>Em algumas vezes o shapefile pode ser bastante grande, tornando a renderização e o arquivo final relativamente “pesados”. É possível simplificar o shapefile com a função <code>gSimplify()</code>. Veja o exemplo abaixo:</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" data-line-number="1"><span class="kw">library</span>(rgeos)</a>
<a class="sourceLine" id="cb585-2" data-line-number="2">mg_mapa &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="st">&#39;dados/mapas/mg_municipios/31MUE250GC_SIR.shp&#39;</span>,</a>
<a class="sourceLine" id="cb585-3" data-line-number="3">                   <span class="dt">layer =</span> <span class="st">&#39;31MUE250GC_SIR&#39;</span>)</a></code></pre></div>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;/home/sillas/R/Projetos/IBPAD/livro_cdr/livro_intro_r/dados/mapas/mg_municipios/31MUE250GC_SIR.shp&quot;, layer: &quot;31MUE250GC_SIR&quot;
## with 853 features
## It has 2 fields</code></pre>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb587-1" data-line-number="1">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(mg_mapa)</a>
<a class="sourceLine" id="cb587-2" data-line-number="2">mg_mapa &lt;-<span class="st"> </span><span class="kw">gSimplify</span>(mg_mapa, <span class="dt">tol=</span><span class="fl">0.01</span>, <span class="dt">topologyPreserve =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb587-3" data-line-number="3">mg_mapa =<span class="st"> </span><span class="kw">SpatialPolygonsDataFrame</span>(mg_mapa, <span class="dt">data=</span>df)</a>
<a class="sourceLine" id="cb587-4" data-line-number="4"></a>
<a class="sourceLine" id="cb587-5" data-line-number="5">mg_mapa &lt;-<span class="st"> </span><span class="kw">tidy</span>(mg_mapa, <span class="dt">region =</span> <span class="st">&quot;CD_GEOCMU&quot;</span>)</a></code></pre></div>
<pre><code>## Warning in bind_rows_(x, .id): Unequal factor levels: coercing to character</code></pre>
<pre><code>## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector

## Warning in bind_rows_(x, .id): binding character and factor vector,
## coercing into character vector</code></pre>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb590-1" data-line-number="1"><span class="co"># Para adicionar os nomes dos municípios</span></a>
<a class="sourceLine" id="cb590-2" data-line-number="2">mg_mapa &lt;-<span class="st"> </span><span class="kw">left_join</span>(mg_mapa, mg_mapa_data, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;id&quot;</span> =<span class="st"> &quot;CD_GEOCMU&quot;</span>))</a></code></pre></div>
<pre><code>## Warning: Column `id`/`CD_GEOCMU` joining character vector and factor,
## coercing into character vector</code></pre>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb592-1" data-line-number="1"><span class="kw">ggplot</span>(mg_mapa, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group)) <span class="op">+</span></a>
<a class="sourceLine" id="cb592-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="dt">color =</span> <span class="st">&#39;black&#39;</span>, <span class="dt">fill =</span> <span class="st">&#39;white&#39;</span>, <span class="dt">size =</span> <span class="fl">0.1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb592-3" data-line-number="3"><span class="st">  </span><span class="kw">coord_quickmap</span>()</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-94-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="encoding-dos-dados-do-shapefile" class="section level3">
<h3><span class="header-section-number">12.18.2</span> Encoding dos dados do shapefile</h3>
<p>É possível que os nomes das regiões apresentem problemas de codificações se o arquivo estiver em <code>UTF-8</code> e o usuário estiver usando o Windows. Nesse caso, pode-se usar a função <code>iconv()</code> para converter o encoding.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb593-1" data-line-number="1">mg_mapa &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="st">&#39;dados/mapas/mg_municipios/31MUE250GC_SIR.shp&#39;</span>,</a>
<a class="sourceLine" id="cb593-2" data-line-number="2">                   <span class="dt">layer =</span> <span class="st">&#39;31MUE250GC_SIR&#39;</span>)</a>
<a class="sourceLine" id="cb593-3" data-line-number="3">mg_mapa<span class="op">@</span>data<span class="op">$</span>NM_MUNICIP &lt;-<span class="st"> </span><span class="kw">iconv</span>(mg_mapa<span class="op">@</span>data<span class="op">$</span>NM_MUNICIP,</a>
<a class="sourceLine" id="cb593-4" data-line-number="4">                                 <span class="dt">from =</span> <span class="st">&quot;UTF-8&quot;</span>,</a>
<a class="sourceLine" id="cb593-5" data-line-number="5">                                 <span class="dt">to =</span> <span class="st">&quot;ISO-8859-1&quot;</span>)</a></code></pre></div>
</div>
</div>
<div id="salvando-graficos" class="section level2">
<h2><span class="header-section-number">12.19</span> Salvando Gráficos</h2>
<p>Há duas formas de salvar o gráfico gerado pelo ggplot2. A primeira delas é clicando no botão <strong>Export</strong> na aba <strong>Plots</strong>. Lá existirão três opções: exportar para o clipboard, salvar como PDF ou salvar como imagem.</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb594-1" data-line-number="1">knitr<span class="op">::</span><span class="kw">include_graphics</span>(<span class="st">&#39;images/salvar_plot.gif&#39;</span>)</a></code></pre></div>
<p>A outra opção é usar a função <code>ggsave()</code>:</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb595-1" data-line-number="1"><span class="kw">ggsave</span>(filename, <span class="dt">plot =</span> <span class="kw">last_plot</span>(), <span class="dt">device =</span> <span class="ot">NULL</span>, <span class="dt">path =</span> <span class="ot">NULL</span>,</a>
<a class="sourceLine" id="cb595-2" data-line-number="2">  <span class="dt">scale =</span> <span class="dv">1</span>, <span class="dt">width =</span> <span class="ot">NA</span>, <span class="dt">height =</span> <span class="ot">NA</span>, <span class="dt">units =</span> <span class="kw">c</span>(<span class="st">&quot;in&quot;</span>, <span class="st">&quot;cm&quot;</span>, <span class="st">&quot;mm&quot;</span>),</a>
<a class="sourceLine" id="cb595-3" data-line-number="3">  <span class="dt">dpi =</span> <span class="dv">300</span>, <span class="dt">limitsize =</span> <span class="ot">TRUE</span>, ...)</a></code></pre></div>
<p>O argumento <code>device</code> é usado para escolher-se o tipo de arquivo (“eps”, “ps”, “tex” (pictex), “pdf”, “jpeg”, “tiff”, “png”, “bmp”, “svg” or “wmf”).</p>
</div>
<div id="extensoes-do-ggplot2" class="section level2">
<h2><span class="header-section-number">12.20</span> Extensões do ggplot2</h2>
<p>Um conjunto de pacotes fornece extensões ao ggplot2. Ou seja, cria funcionalidades não existentes no pacote original.</p>
<p>Veja <a href="http://www.ggplot2-exts.org/gallery/">neste link</a> uma galeria com as extensões. Aqui, exemplificaremos algumas:</p>
<div id="ggrepel" class="section level3">
<h3><span class="header-section-number">12.20.1</span> ggrepel</h3>
<p>O <code>ggrepel</code> é importante para evitar que textos (<code>geom_text</code>) e rótulos (<code>geom_label</code>) se sobreponham. Veja o mesmo gráfico sem e com o ggrepel:</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb596-1" data-line-number="1"><span class="kw">library</span>(ggrepel)</a>
<a class="sourceLine" id="cb596-2" data-line-number="2"><span class="kw">data</span>(mtcars)</a>
<a class="sourceLine" id="cb596-3" data-line-number="3"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(wt, mpg)) <span class="op">+</span></a>
<a class="sourceLine" id="cb596-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&#39;red&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb596-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">rownames</span>(mtcars))) <span class="op">+</span></a>
<a class="sourceLine" id="cb596-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,  </a>
<a class="sourceLine" id="cb596-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-98-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb597-1" data-line-number="1"><span class="kw">library</span>(ggrepel)</a>
<a class="sourceLine" id="cb597-2" data-line-number="2"><span class="kw">data</span>(mtcars)</a>
<a class="sourceLine" id="cb597-3" data-line-number="3"><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(wt, mpg)) <span class="op">+</span></a>
<a class="sourceLine" id="cb597-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&#39;red&#39;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb597-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="kw">aes</span>(<span class="dt">label =</span> <span class="kw">rownames</span>(mtcars))) <span class="op">+</span></a>
<a class="sourceLine" id="cb597-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_ipsum</span>(<span class="dt">plot_title_size =</span> <span class="dv">12</span>,  </a>
<a class="sourceLine" id="cb597-7" data-line-number="7">              <span class="dt">axis_title_size =</span> <span class="dv">10</span>)</a></code></pre></div>
<p><img src="cdr-intro_files/figure-html/11-ggplot2-99-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="gganimate" class="section level3">
<h3><span class="header-section-number">12.20.2</span> gganimate</h3>
<p>Outra extensão muito interessante é o <code>gganimate</code>. Com esta extensão é possível criar gifs (animações) de gráficos do ggplot2. O ponto fundamental é definir-se uma variável que controlará os <code>frames</code>, ou seja, as imagens que serão sobrepostas para compor-se a animação.</p>
<p>Veja o exemplo abaixo:</p>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb598-1" data-line-number="1"><span class="co"># O pacote não está no cran</span></a>
<a class="sourceLine" id="cb598-2" data-line-number="2"><span class="co">#devtools::install_github(&quot;dgrtwo/gganimate&quot;)</span></a>
<a class="sourceLine" id="cb598-3" data-line-number="3"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb598-4" data-line-number="4"></a>
<a class="sourceLine" id="cb598-5" data-line-number="5">p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(gapminder, <span class="kw">aes</span>(<span class="dt">x =</span> gdpPercap, <span class="dt">y =</span> lifeExp,</a>
<a class="sourceLine" id="cb598-6" data-line-number="6">                      <span class="dt">size =</span> pop, <span class="dt">color =</span> continent,</a>
<a class="sourceLine" id="cb598-7" data-line-number="7">                      <span class="dt">frame =</span> year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb598-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb598-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_x_log10</span>()</a>
<a class="sourceLine" id="cb598-10" data-line-number="10"></a>
<a class="sourceLine" id="cb598-11" data-line-number="11">animation<span class="op">::</span><span class="kw">ani.options</span>(<span class="dt">interval =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb598-12" data-line-number="12">x &lt;-<span class="st"> </span><span class="kw">gganimate</span>(p, <span class="dt">filename =</span> <span class="st">&#39;images/gapminder1.gif&#39;</span>,</a>
<a class="sourceLine" id="cb598-13" data-line-number="13">               <span class="dt">ani.width =</span> <span class="dv">750</span>,</a>
<a class="sourceLine" id="cb598-14" data-line-number="14">               <span class="dt">ani.height =</span> <span class="dv">450</span>)</a></code></pre></div>
<p><img src="images/gapminder1.gif" width="100%" style="display: block; margin: auto;" /></p>
<p>É possível suavizar a animação com o pacote <code>tweenr</code>. É um pouco complicado, mas fica o exemplo abaixo retirado <a href="http://blog.revolutionanalytics.com/2017/05/tweenr.html">deste post</a>:</p>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb599-1" data-line-number="1"><span class="kw">library</span>(tweenr)</a>
<a class="sourceLine" id="cb599-2" data-line-number="2"></a>
<a class="sourceLine" id="cb599-3" data-line-number="3">years &lt;-<span class="st"> </span><span class="kw">unique</span>(gapminder<span class="op">$</span>year)</a>
<a class="sourceLine" id="cb599-4" data-line-number="4">gapminder_list &lt;-<span class="st"> </span><span class="kw">list</span>()</a>
<a class="sourceLine" id="cb599-5" data-line-number="5"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(years)){</a>
<a class="sourceLine" id="cb599-6" data-line-number="6">  j &lt;-<span class="st"> </span>years[i]</a>
<a class="sourceLine" id="cb599-7" data-line-number="7">  gapminder_list[[i]] &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb599-8" data-line-number="8"><span class="st">    </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span>j)</a>
<a class="sourceLine" id="cb599-9" data-line-number="9">}</a>
<a class="sourceLine" id="cb599-10" data-line-number="10"></a>
<a class="sourceLine" id="cb599-11" data-line-number="11">tf &lt;-<span class="st"> </span><span class="kw">tween_states</span>(gapminder_list,</a>
<a class="sourceLine" id="cb599-12" data-line-number="12">                   <span class="dt">tweenlength =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb599-13" data-line-number="13">                   <span class="dt">statelength =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb599-14" data-line-number="14">                   <span class="dt">ease =</span> <span class="kw">rep</span>(<span class="st">&quot;linear&quot;</span>, <span class="kw">length</span>(gapminder_list)),</a>
<a class="sourceLine" id="cb599-15" data-line-number="15">                   <span class="dt">nframes =</span> <span class="dv">308</span>)</a>
<a class="sourceLine" id="cb599-16" data-line-number="16"></a>
<a class="sourceLine" id="cb599-17" data-line-number="17">tf2 &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">y =</span> <span class="dv">80</span>, <span class="dt">x =</span> <span class="dv">10</span><span class="op">^</span>(<span class="fl">2.5</span>), <span class="dt">year =</span> <span class="kw">seq</span>(<span class="dv">1957</span>, <span class="dv">2007</span>, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb599-18" data-line-number="18">tf2 &lt;-<span class="st"> </span><span class="kw">split</span>(tf2, tf2<span class="op">$</span>year)</a>
<a class="sourceLine" id="cb599-19" data-line-number="19">tf2 &lt;-<span class="st"> </span><span class="kw">tween_states</span>(tf2,</a>
<a class="sourceLine" id="cb599-20" data-line-number="20">                   <span class="dt">tweenlength =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb599-21" data-line-number="21">                   <span class="dt">statelength =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb599-22" data-line-number="22">                   <span class="dt">ease =</span> <span class="kw">rep</span>(<span class="st">&quot;linear&quot;</span>, <span class="kw">length</span>(tf2)),</a>
<a class="sourceLine" id="cb599-23" data-line-number="23">                   <span class="dt">nframes =</span> <span class="dv">308</span>)</a>
<a class="sourceLine" id="cb599-24" data-line-number="24">tf2 &lt;-<span class="st"> </span>tf2 <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb599-25" data-line-number="25"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">1957</span>, <span class="dv">2007</span>, <span class="dv">5</span>), <span class="dt">each =</span> <span class="dv">29</span>)[<span class="dv">1</span><span class="op">:</span><span class="dv">310</span>])</a>
<a class="sourceLine" id="cb599-26" data-line-number="26"></a>
<a class="sourceLine" id="cb599-27" data-line-number="27">p2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(tf,</a>
<a class="sourceLine" id="cb599-28" data-line-number="28">             <span class="kw">aes</span>(<span class="dt">x=</span>gdpPercap, <span class="dt">y=</span>lifeExp, <span class="dt">frame =</span> .frame)) <span class="op">+</span></a>
<a class="sourceLine" id="cb599-29" data-line-number="29"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">size=</span>pop, <span class="dt">color=</span>continent), <span class="dt">alpha=</span><span class="fl">0.8</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb599-30" data-line-number="30"><span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> tf2, <span class="kw">aes</span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">label =</span> year)) <span class="op">+</span></a>
<a class="sourceLine" id="cb599-31" data-line-number="31"><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;GDP per capita&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb599-32" data-line-number="32"><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Life expectancy at birth&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb599-33" data-line-number="33"><span class="st">  </span><span class="kw">scale_x_log10</span>()</a>
<a class="sourceLine" id="cb599-34" data-line-number="34">animation<span class="op">::</span><span class="kw">ani.options</span>(<span class="dt">interval =</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span>)</a>
<a class="sourceLine" id="cb599-35" data-line-number="35">x &lt;-<span class="st"> </span><span class="kw">gganimate</span>(p2, <span class="dt">filename =</span> <span class="st">&#39;images/gapminder2.gif&#39;</span>,</a>
<a class="sourceLine" id="cb599-36" data-line-number="36">               <span class="dt">ani.width =</span> <span class="dv">750</span>,</a>
<a class="sourceLine" id="cb599-37" data-line-number="37">               <span class="dt">ani.height =</span> <span class="dv">450</span>,</a>
<a class="sourceLine" id="cb599-38" data-line-number="38">               <span class="dt">title_frame =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="images/gapminder2.gif" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="exercicios-8" class="section level2">
<h2><span class="header-section-number">12.21</span> Exercícios</h2>
<ol style="list-style-type: decimal">
<li><p>Crie um gráfico de dispersão utilizando a base <code>gapminder</code> para o ano de 2007. Mapeie uma variável para o tamanho do ponto e adicione os títulos do gráfico e dos eixos.</p></li>
<li><p>No gráfico anterior, como você faria para que o ponto do Brasil fosse identificado com uma cor adicional? Dica: se uma nova camada usar um segundo conjunto de dados é preciso informar usando o argumento <code>data</code>. Exemplo: <code>geom_point(data = novo_data_frame, ...)</code>.</p></li>
<li><p>Crie um histograma da variável <code>wage</code> a partir da base de dados <code>Wage</code> do pacote <code>ISLR</code>. Crie uma visualização da distribuição da variável <code>wage</code> por nível da variável education. Mapeie a variável education para o elemento estético <code>fill</code>.</p></li>
<li><p>Crie um data.frame chamado <code>Wage2</code> em que a variável <code>education</code> é removida. Adicione a seguinte camada no início do código:</p></li>
</ol>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb600-1" data-line-number="1"><span class="kw">geom_histogram</span>(<span class="dt">data =</span> Wage2, <span class="dt">fill =</span> <span class="st">&quot;grey50&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p>Veja e interprete o resultado.</p>
<ol start="5" style="list-style-type: decimal">
<li>A partir do código abaixo, crie um gráfico que apresenta os dez países que tiveram maior crescimento do PIB em 2016 e aqueles dez que tiveram o menor. Use o <code>facet_wrap</code> para quebrar a visualização em dois gráficos. Escolha o objeto geométrico <code>geom_col</code> ou <code>geom_point()</code>.</li>
</ol>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb601-1" data-line-number="1"><span class="kw">library</span>(WDI)</a>
<a class="sourceLine" id="cb601-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb601-3" data-line-number="3">gdp_growth &lt;-<span class="st"> </span><span class="kw">WDI</span>(<span class="dt">indicator =</span> <span class="st">&quot;NY.GDP.MKTP.KD.ZG&quot;</span>,</a>
<a class="sourceLine" id="cb601-4" data-line-number="4">                  <span class="dt">start =</span> <span class="dv">2016</span>,</a>
<a class="sourceLine" id="cb601-5" data-line-number="5">                  <span class="dt">end =</span> <span class="dv">2016</span>,</a>
<a class="sourceLine" id="cb601-6" data-line-number="6">                  <span class="dt">extra =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb601-7" data-line-number="7"></a>
<a class="sourceLine" id="cb601-8" data-line-number="8"><span class="co"># Remove regiões - ISO&#39;s com números</span></a>
<a class="sourceLine" id="cb601-9" data-line-number="9">gdp_growth &lt;-<span class="st"> </span>gdp_growth <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb601-10" data-line-number="10"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(region) <span class="op">&amp;</span><span class="st"> </span>region <span class="op">!=</span><span class="st"> &quot;Aggregates&quot;</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(NY.GDP.MKTP.KD.ZG))</a></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Utilize o mapa mundi disponível no pacote <code>chropletrMaps</code> e os dados que criamos no exercício anterior para plotar as variações do PIB em um mapa.</li>
</ol>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb602-1" data-line-number="1"><span class="kw">library</span>(choroplethrMaps)</a>
<a class="sourceLine" id="cb602-2" data-line-number="2"><span class="kw">data</span>(<span class="st">&quot;country.map&quot;</span>)</a>
<a class="sourceLine" id="cb602-3" data-line-number="3"></a>
<a class="sourceLine" id="cb602-4" data-line-number="4"><span class="co"># Dados - Crescimento do PIB em 2016</span></a>
<a class="sourceLine" id="cb602-5" data-line-number="5"><span class="kw">library</span>(WDI)</a>
<a class="sourceLine" id="cb602-6" data-line-number="6"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb602-7" data-line-number="7">gdp_growth &lt;-<span class="st"> </span><span class="kw">WDI</span>(<span class="dt">indicator =</span> <span class="st">&quot;NY.GDP.MKTP.KD.ZG&quot;</span>,</a>
<a class="sourceLine" id="cb602-8" data-line-number="8">                  <span class="dt">start =</span> <span class="dv">2016</span>,</a>
<a class="sourceLine" id="cb602-9" data-line-number="9">                  <span class="dt">end =</span> <span class="dv">2016</span>,</a>
<a class="sourceLine" id="cb602-10" data-line-number="10">                  <span class="dt">extra =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb602-11" data-line-number="11"></a>
<a class="sourceLine" id="cb602-12" data-line-number="12"><span class="co"># Remove regiões - ISO&#39;s com números</span></a>
<a class="sourceLine" id="cb602-13" data-line-number="13">gdp_growth &lt;-<span class="st"> </span>gdp_growth <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb602-14" data-line-number="14"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(region) <span class="op">&amp;</span><span class="st"> </span>region <span class="op">!=</span><span class="st"> &quot;Aggregates&quot;</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span><span class="kw">is.na</span>(NY.GDP.MKTP.KD.ZG))</a>
<a class="sourceLine" id="cb602-15" data-line-number="15"></a>
<a class="sourceLine" id="cb602-16" data-line-number="16"><span class="co"># Continue fazendo o join entre country.map e gdp_growth</span></a>
<a class="sourceLine" id="cb602-17" data-line-number="17"><span class="co"># chaves: wb_a3 e iso3c</span></a></code></pre></div>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb603-1" data-line-number="1">country.map &lt;-<span class="st"> </span>country.map <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb603-2" data-line-number="2"><span class="st">  </span><span class="kw">left_join</span>(gdp_growth, <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;wb_a3&quot;</span> =<span class="st"> &quot;iso3c&quot;</span>)) </a>
<a class="sourceLine" id="cb603-3" data-line-number="3"></a>
<a class="sourceLine" id="cb603-4" data-line-number="4"><span class="kw">ggplot</span>(country.map, <span class="kw">aes</span>(<span class="dt">x =</span> long, <span class="dt">y =</span> lat, <span class="dt">group =</span> group)) <span class="op">+</span></a>
<a class="sourceLine" id="cb603-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_polygon</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> NY.GDP.MKTP.KD.ZG)) <span class="op">+</span></a>
<a class="sourceLine" id="cb603-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_fill_continuous</span>(<span class="st">&quot;Var. % GDP&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb603-7" data-line-number="7"><span class="st">  </span><span class="kw">coord_quickmap</span>()</a></code></pre></div>
<ol start="7" style="list-style-type: decimal">
<li>Utilizando o código “NY.GDP.PCAP.KD” e o pacote <code>WDI</code>, crie um gráfico do tipo connected dot plot comparando a renda per capita entre o Brasil e mais cinco países nos anos de 1990 e 2010.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="estruturas-complexas-de-dados.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="htmlwidgets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["cdr-intro.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
